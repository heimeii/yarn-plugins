/* eslint-disable */
//prettier-ignore
module.exports = {
name: "@yarnpkg/plugin-dedupe",
factory: function (require) {
var plugin=(()=>{var pr=Object.create,ge=Object.defineProperty,hr=Object.defineProperties,gr=Object.getOwnPropertyDescriptor,Ar=Object.getOwnPropertyDescriptors,Rr=Object.getOwnPropertyNames,je=Object.getOwnPropertySymbols,dr=Object.getPrototypeOf,ze=Object.prototype.hasOwnProperty,yr=Object.prototype.propertyIsEnumerable;var Ye=(e,t,r)=>t in e?ge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,N=(e,t)=>{for(var r in t||(t={}))ze.call(t,r)&&Ye(e,r,t[r]);if(je)for(var r of je(t))yr.call(t,r)&&Ye(e,r,t[r]);return e},F=(e,t)=>hr(e,Ar(t)),Er=e=>ge(e,"__esModule",{value:!0});var re=e=>{if(typeof require!="undefined")return require(e);throw new Error('Dynamic require of "'+e+'" is not supported')};var U=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),_r=(e,t)=>{for(var r in t)ge(e,r,{get:t[r],enumerable:!0})},Cr=(e,t,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Rr(t))!ze.call(e,s)&&s!=="default"&&ge(e,s,{get:()=>t[s],enumerable:!(r=gr(t,s))||r.enumerable});return e},le=e=>Cr(Er(ge(e!=null?pr(dr(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var He=U(V=>{"use strict";V.isInteger=e=>typeof e=="number"?Number.isInteger(e):typeof e=="string"&&e.trim()!==""?Number.isInteger(Number(e)):!1;V.find=(e,t)=>e.nodes.find(r=>r.type===t);V.exceedsLimit=(e,t,r=1,s)=>s===!1||!V.isInteger(e)||!V.isInteger(t)?!1:(Number(t)-Number(e))/Number(r)>=s;V.escapeNode=(e,t=0,r)=>{let s=e.nodes[t];!s||(r&&s.type===r||s.type==="open"||s.type==="close")&&s.escaped!==!0&&(s.value="\\"+s.value,s.escaped=!0)};V.encloseBrace=e=>e.type!=="brace"?!1:e.commas>>0+e.ranges>>0==0?(e.invalid=!0,!0):!1;V.isInvalidBrace=e=>e.type!=="brace"?!1:e.invalid===!0||e.dollar?!0:e.commas>>0+e.ranges>>0==0||e.open!==!0||e.close!==!0?(e.invalid=!0,!0):!1;V.isOpenOrClose=e=>e.type==="open"||e.type==="close"?!0:e.open===!0||e.close===!0;V.reduce=e=>e.reduce((t,r)=>(r.type==="text"&&t.push(r.value),r.type==="range"&&(r.type="text"),t),[]);V.flatten=(...e)=>{let t=[],r=s=>{for(let n=0;n<s.length;n++){let u=s[n];Array.isArray(u)?r(u,t):u!==void 0&&t.push(u)}return t};return r(e),t}});var ve=U((Ks,Je)=>{"use strict";var Ve=He();Je.exports=(e,t={})=>{let r=(s,n={})=>{let u=t.escapeInvalid&&Ve.isInvalidBrace(n),a=s.invalid===!0&&t.escapeInvalid===!0,c="";if(s.value)return(u||a)&&Ve.isOpenOrClose(s)?"\\"+s.value:s.value;if(s.value)return s.value;if(s.nodes)for(let g of s.nodes)c+=r(g);return c};return r(e)}});var tt=U((qs,et)=>{"use strict";et.exports=function(e){return typeof e=="number"?e-e==0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1}});var lt=U((Fs,ct)=>{"use strict";var rt=tt(),ie=(e,t,r)=>{if(rt(e)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(t===void 0||e===t)return String(e);if(rt(t)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let s=N({relaxZeros:!0},r);typeof s.strictZeros=="boolean"&&(s.relaxZeros=s.strictZeros===!1);let n=String(s.relaxZeros),u=String(s.shorthand),a=String(s.capture),c=String(s.wrap),g=e+":"+t+"="+n+u+a+c;if(ie.cache.hasOwnProperty(g))return ie.cache[g].result;let A=Math.min(e,t),p=Math.max(e,t);if(Math.abs(A-p)===1){let y=e+"|"+t;return s.capture?`(${y})`:s.wrap===!1?y:`(?:${y})`}let d=it(e)||it(t),f={min:e,max:t,a:A,b:p},v=[],E=[];if(d&&(f.isPadded=d,f.maxLen=String(f.max).length),A<0){let y=p<0?Math.abs(p):1;E=st(y,Math.abs(A),f,s),A=f.a=0}return p>=0&&(v=st(A,p,f,s)),f.negatives=E,f.positives=v,f.result=xr(E,v,s),s.capture===!0?f.result=`(${f.result})`:s.wrap!==!1&&v.length+E.length>1&&(f.result=`(?:${f.result})`),ie.cache[g]=f,f.result};function xr(e,t,r){let s=ke(e,t,"-",!1,r)||[],n=ke(t,e,"",!1,r)||[],u=ke(e,t,"-?",!0,r)||[];return s.concat(u).concat(n).join("|")}function Sr(e,t){let r=1,s=1,n=at(e,r),u=new Set([t]);for(;e<=n&&n<=t;)u.add(n),r+=1,n=at(e,r);for(n=ut(t+1,s)-1;e<n&&n<=t;)u.add(n),s+=1,n=ut(t+1,s)-1;return u=[...u],u.sort(Hr),u}function br(e,t,r){if(e===t)return{pattern:e,count:[],digits:0};let s=mr(e,t),n=s.length,u="",a=0;for(let c=0;c<n;c++){let[g,A]=s[c];g===A?u+=g:g!=="0"||A!=="9"?u+=vr(g,A,r):a++}return a&&(u+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:u,count:[a],digits:n}}function st(e,t,r,s){let n=Sr(e,t),u=[],a=e,c;for(let g=0;g<n.length;g++){let A=n[g],p=br(String(a),String(A),s),d="";if(!r.isPadded&&c&&c.pattern===p.pattern){c.count.length>1&&c.count.pop(),c.count.push(p.count[0]),c.string=c.pattern+ot(c.count),a=A+1;continue}r.isPadded&&(d=$r(A,r,s)),p.string=d+p.pattern+ot(p.count),u.push(p),a=A+1,c=p}return u}function ke(e,t,r,s,n){let u=[];for(let a of e){let{string:c}=a;!s&&!nt(t,"string",c)&&u.push(r+c),s&&nt(t,"string",c)&&u.push(r+c)}return u}function mr(e,t){let r=[];for(let s=0;s<e.length;s++)r.push([e[s],t[s]]);return r}function Hr(e,t){return e>t?1:t>e?-1:0}function nt(e,t,r){return e.some(s=>s[t]===r)}function at(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function ut(e,t){return e-e%Math.pow(10,t)}function ot(e){let[t=0,r=""]=e;return r||t>1?`{${t+(r?","+r:"")}}`:""}function vr(e,t,r){return`[${e}${t-e==1?"":"-"}${t}]`}function it(e){return/^-?(0+)\d/.test(e)}function $r(e,t,r){if(!t.isPadded)return e;let s=Math.abs(t.maxLen-String(e).length),n=r.relaxZeros!==!1;switch(s){case 0:return"";case 1:return n?"0?":"0";case 2:return n?"0{0,2}":"00";default:return n?`0{0,${s}}`:`0{${s}}`}}ie.cache={};ie.clearCache=()=>ie.cache={};ct.exports=ie});var Pe=U((Qs,yt)=>{"use strict";var Tr=re("util"),ft=lt(),pt=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),wr=e=>t=>e===!0?Number(t):String(t),Ne=e=>typeof e=="number"||typeof e=="string"&&e!=="",Ae=e=>Number.isInteger(+e),Ie=e=>{let t=`${e}`,r=-1;if(t[0]==="-"&&(t=t.slice(1)),t==="0")return!1;for(;t[++r]==="0";);return r>0},Lr=(e,t,r)=>typeof e=="string"||typeof t=="string"?!0:r.stringify===!0,Or=(e,t,r)=>{if(t>0){let s=e[0]==="-"?"-":"";s&&(e=e.slice(1)),e=s+e.padStart(s?t-1:t,"0")}return r===!1?String(e):e},ht=(e,t)=>{let r=e[0]==="-"?"-":"";for(r&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return r?"-"+e:e},kr=(e,t)=>{e.negatives.sort((a,c)=>a<c?-1:a>c?1:0),e.positives.sort((a,c)=>a<c?-1:a>c?1:0);let r=t.capture?"":"?:",s="",n="",u;return e.positives.length&&(s=e.positives.join("|")),e.negatives.length&&(n=`-(${r}${e.negatives.join("|")})`),s&&n?u=`${s}|${n}`:u=s||n,t.wrap?`(${r}${u})`:u},gt=(e,t,r,s)=>{if(r)return ft(e,t,N({wrap:!1},s));let n=String.fromCharCode(e);if(e===t)return n;let u=String.fromCharCode(t);return`[${n}-${u}]`},At=(e,t,r)=>{if(Array.isArray(e)){let s=r.wrap===!0,n=r.capture?"":"?:";return s?`(${n}${e.join("|")})`:e.join("|")}return ft(e,t,r)},Rt=(...e)=>new RangeError("Invalid range arguments: "+Tr.inspect(...e)),dt=(e,t,r)=>{if(r.strictRanges===!0)throw Rt([e,t]);return[]},Nr=(e,t)=>{if(t.strictRanges===!0)throw new TypeError(`Expected step "${e}" to be a number`);return[]},Ir=(e,t,r=1,s={})=>{let n=Number(e),u=Number(t);if(!Number.isInteger(n)||!Number.isInteger(u)){if(s.strictRanges===!0)throw Rt([e,t]);return[]}n===0&&(n=0),u===0&&(u=0);let a=n>u,c=String(e),g=String(t),A=String(r);r=Math.max(Math.abs(r),1);let p=Ie(c)||Ie(g)||Ie(A),d=p?Math.max(c.length,g.length,A.length):0,f=p===!1&&Lr(e,t,s)===!1,v=s.transform||wr(f);if(s.toRegex&&r===1)return gt(ht(e,d),ht(t,d),!0,s);let E={negatives:[],positives:[]},y=$=>E[$<0?"negatives":"positives"].push(Math.abs($)),C=[],x=0;for(;a?n>=u:n<=u;)s.toRegex===!0&&r>1?y(n):C.push(Or(v(n,x),d,f)),n=a?n-r:n+r,x++;return s.toRegex===!0?r>1?kr(E,s):At(C,null,N({wrap:!1},s)):C},Pr=(e,t,r=1,s={})=>{if(!Ae(e)&&e.length>1||!Ae(t)&&t.length>1)return dt(e,t,s);let n=s.transform||(f=>String.fromCharCode(f)),u=`${e}`.charCodeAt(0),a=`${t}`.charCodeAt(0),c=u>a,g=Math.min(u,a),A=Math.max(u,a);if(s.toRegex&&r===1)return gt(g,A,!1,s);let p=[],d=0;for(;c?u>=a:u<=a;)p.push(n(u,d)),u=c?u-r:u+r,d++;return s.toRegex===!0?At(p,null,{wrap:!1,options:s}):p},$e=(e,t,r,s={})=>{if(t==null&&Ne(e))return[e];if(!Ne(e)||!Ne(t))return dt(e,t,s);if(typeof r=="function")return $e(e,t,1,{transform:r});if(pt(r))return $e(e,t,0,r);let n=N({},s);return n.capture===!0&&(n.wrap=!0),r=r||n.step||1,Ae(r)?Ae(e)&&Ae(t)?Ir(e,t,r,n):Pr(e,t,Math.max(Math.abs(r),1),n):r!=null&&!pt(r)?Nr(r,n):$e(e,t,1,r)};yt.exports=$e});var Ct=U((Xs,_t)=>{"use strict";var Mr=Pe(),Et=He(),Dr=(e,t={})=>{let r=(s,n={})=>{let u=Et.isInvalidBrace(n),a=s.invalid===!0&&t.escapeInvalid===!0,c=u===!0||a===!0,g=t.escapeInvalid===!0?"\\":"",A="";if(s.isOpen===!0||s.isClose===!0)return g+s.value;if(s.type==="open")return c?g+s.value:"(";if(s.type==="close")return c?g+s.value:")";if(s.type==="comma")return s.prev.type==="comma"?"":c?s.value:"|";if(s.value)return s.value;if(s.nodes&&s.ranges>0){let p=Et.reduce(s.nodes),d=Mr(...p,F(N({},t),{wrap:!1,toRegex:!0}));if(d.length!==0)return p.length>1&&d.length>1?`(${d})`:d}if(s.nodes)for(let p of s.nodes)A+=r(p,s);return A};return r(e)};_t.exports=Dr});var bt=U((Ws,St)=>{"use strict";var Br=Pe(),xt=ve(),fe=He(),ce=(e="",t="",r=!1)=>{let s=[];if(e=[].concat(e),t=[].concat(t),!t.length)return e;if(!e.length)return r?fe.flatten(t).map(n=>`{${n}}`):t;for(let n of e)if(Array.isArray(n))for(let u of n)s.push(ce(u,t,r));else for(let u of t)r===!0&&typeof u=="string"&&(u=`{${u}}`),s.push(Array.isArray(u)?ce(n,u,r):n+u);return fe.flatten(s)},Gr=(e,t={})=>{let r=t.rangeLimit===void 0?1e3:t.rangeLimit,s=(n,u={})=>{n.queue=[];let a=u,c=u.queue;for(;a.type!=="brace"&&a.type!=="root"&&a.parent;)a=a.parent,c=a.queue;if(n.invalid||n.dollar){c.push(ce(c.pop(),xt(n,t)));return}if(n.type==="brace"&&n.invalid!==!0&&n.nodes.length===2){c.push(ce(c.pop(),["{}"]));return}if(n.nodes&&n.ranges>0){let d=fe.reduce(n.nodes);if(fe.exceedsLimit(...d,t.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let f=Br(...d,t);f.length===0&&(f=xt(n,t)),c.push(ce(c.pop(),f)),n.nodes=[];return}let g=fe.encloseBrace(n),A=n.queue,p=n;for(;p.type!=="brace"&&p.type!=="root"&&p.parent;)p=p.parent,A=p.queue;for(let d=0;d<n.nodes.length;d++){let f=n.nodes[d];if(f.type==="comma"&&n.type==="brace"){d===1&&A.push(""),A.push("");continue}if(f.type==="close"){c.push(ce(c.pop(),A,g));continue}if(f.value&&f.type!=="open"){A.push(ce(A.pop(),f.value));continue}f.nodes&&s(f,n)}return A};return fe.flatten(s(e))};St.exports=Gr});var Ht=U((Zs,mt)=>{"use strict";mt.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var Lt=U((js,wt)=>{"use strict";var Ur=ve(),{MAX_LENGTH:vt,CHAR_BACKSLASH:Me,CHAR_BACKTICK:Kr,CHAR_COMMA:qr,CHAR_DOT:Fr,CHAR_LEFT_PARENTHESES:Qr,CHAR_RIGHT_PARENTHESES:Xr,CHAR_LEFT_CURLY_BRACE:Wr,CHAR_RIGHT_CURLY_BRACE:Zr,CHAR_LEFT_SQUARE_BRACKET:$t,CHAR_RIGHT_SQUARE_BRACKET:Tt,CHAR_DOUBLE_QUOTE:jr,CHAR_SINGLE_QUOTE:zr,CHAR_NO_BREAK_SPACE:Yr,CHAR_ZERO_WIDTH_NOBREAK_SPACE:Vr}=Ht(),Jr=(e,t={})=>{if(typeof e!="string")throw new TypeError("Expected a string");let r=t||{},s=typeof r.maxLength=="number"?Math.min(vt,r.maxLength):vt;if(e.length>s)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${s})`);let n={type:"root",input:e,nodes:[]},u=[n],a=n,c=n,g=0,A=e.length,p=0,d=0,f,v={},E=()=>e[p++],y=C=>{if(C.type==="text"&&c.type==="dot"&&(c.type="text"),c&&c.type==="text"&&C.type==="text"){c.value+=C.value;return}return a.nodes.push(C),C.parent=a,C.prev=c,c=C,C};for(y({type:"bos"});p<A;)if(a=u[u.length-1],f=E(),!(f===Vr||f===Yr)){if(f===Me){y({type:"text",value:(t.keepEscaping?f:"")+E()});continue}if(f===Tt){y({type:"text",value:"\\"+f});continue}if(f===$t){g++;let C=!0,x;for(;p<A&&(x=E());){if(f+=x,x===$t){g++;continue}if(x===Me){f+=E();continue}if(x===Tt&&(g--,g===0))break}y({type:"text",value:f});continue}if(f===Qr){a=y({type:"paren",nodes:[]}),u.push(a),y({type:"text",value:f});continue}if(f===Xr){if(a.type!=="paren"){y({type:"text",value:f});continue}a=u.pop(),y({type:"text",value:f}),a=u[u.length-1];continue}if(f===jr||f===zr||f===Kr){let C=f,x;for(t.keepQuotes!==!0&&(f="");p<A&&(x=E());){if(x===Me){f+=x+E();continue}if(x===C){t.keepQuotes===!0&&(f+=x);break}f+=x}y({type:"text",value:f});continue}if(f===Wr){d++;let C=c.value&&c.value.slice(-1)==="$"||a.dollar===!0;a=y({type:"brace",open:!0,close:!1,dollar:C,depth:d,commas:0,ranges:0,nodes:[]}),u.push(a),y({type:"open",value:f});continue}if(f===Zr){if(a.type!=="brace"){y({type:"text",value:f});continue}let C="close";a=u.pop(),a.close=!0,y({type:C,value:f}),d--,a=u[u.length-1];continue}if(f===qr&&d>0){if(a.ranges>0){a.ranges=0;let C=a.nodes.shift();a.nodes=[C,{type:"text",value:Ur(a)}]}y({type:"comma",value:f}),a.commas++;continue}if(f===Fr&&d>0&&a.commas===0){let C=a.nodes;if(d===0||C.length===0){y({type:"text",value:f});continue}if(c.type==="dot"){if(a.range=[],c.value+=f,c.type="range",a.nodes.length!==3&&a.nodes.length!==5){a.invalid=!0,a.ranges=0,c.type="text";continue}a.ranges++,a.args=[];continue}if(c.type==="range"){C.pop();let x=C[C.length-1];x.value+=c.value+f,c=x,a.ranges--;continue}y({type:"dot",value:f});continue}y({type:"text",value:f})}do if(a=u.pop(),a.type!=="root"){a.nodes.forEach($=>{$.nodes||($.type==="open"&&($.isOpen=!0),$.type==="close"&&($.isClose=!0),$.nodes||($.type="text"),$.invalid=!0)});let C=u[u.length-1],x=C.nodes.indexOf(a);C.nodes.splice(x,1,...a.nodes)}while(u.length>0);return y({type:"eos"}),n};wt.exports=Jr});var Nt=U((zs,kt)=>{"use strict";var Ot=ve(),es=Ct(),ts=bt(),rs=Lt(),z=(e,t={})=>{let r=[];if(Array.isArray(e))for(let s of e){let n=z.create(s,t);Array.isArray(n)?r.push(...n):r.push(n)}else r=[].concat(z.create(e,t));return t&&t.expand===!0&&t.nodupes===!0&&(r=[...new Set(r)]),r};z.parse=(e,t={})=>rs(e,t);z.stringify=(e,t={})=>typeof e=="string"?Ot(z.parse(e,t),t):Ot(e,t);z.compile=(e,t={})=>(typeof e=="string"&&(e=z.parse(e,t)),es(e,t));z.expand=(e,t={})=>{typeof e=="string"&&(e=z.parse(e,t));let r=ts(e,t);return t.noempty===!0&&(r=r.filter(Boolean)),t.nodupes===!0&&(r=[...new Set(r)]),r};z.create=(e,t={})=>e===""||e.length<3?[e]:t.expand!==!0?z.compile(e,t):z.expand(e,t);kt.exports=z});var Re=U((Ys,Bt)=>{"use strict";var ss=re("path"),se="\\\\/",It=`[^${se}]`,ae="\\.",ns="\\+",as="\\?",Te="\\/",us="(?=.)",Pt="[^/]",De=`(?:${Te}|$)`,Mt=`(?:^|${Te})`,Be=`${ae}{1,2}${De}`,os=`(?!${ae})`,is=`(?!${Mt}${Be})`,cs=`(?!${ae}{0,1}${De})`,ls=`(?!${Be})`,fs=`[^.${Te}]`,ps=`${Pt}*?`,Dt={DOT_LITERAL:ae,PLUS_LITERAL:ns,QMARK_LITERAL:as,SLASH_LITERAL:Te,ONE_CHAR:us,QMARK:Pt,END_ANCHOR:De,DOTS_SLASH:Be,NO_DOT:os,NO_DOTS:is,NO_DOT_SLASH:cs,NO_DOTS_SLASH:ls,QMARK_NO_DOT:fs,STAR:ps,START_ANCHOR:Mt},hs=F(N({},Dt),{SLASH_LITERAL:`[${se}]`,QMARK:It,STAR:`${It}*?`,DOTS_SLASH:`${ae}{1,2}(?:[${se}]|$)`,NO_DOT:`(?!${ae})`,NO_DOTS:`(?!(?:^|[${se}])${ae}{1,2}(?:[${se}]|$))`,NO_DOT_SLASH:`(?!${ae}{0,1}(?:[${se}]|$))`,NO_DOTS_SLASH:`(?!${ae}{1,2}(?:[${se}]|$))`,QMARK_NO_DOT:`[^.${se}]`,START_ANCHOR:`(?:^|[${se}])`,END_ANCHOR:`(?:[${se}]|$)`}),gs={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};Bt.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:gs,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:ss.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?hs:Dt}}});var de=U(Z=>{"use strict";var As=re("path"),Rs=process.platform==="win32",{REGEX_BACKSLASH:ds,REGEX_REMOVE_BACKSLASH:ys,REGEX_SPECIAL_CHARS:Es,REGEX_SPECIAL_CHARS_GLOBAL:_s}=Re();Z.isObject=e=>e!==null&&typeof e=="object"&&!Array.isArray(e);Z.hasRegexChars=e=>Es.test(e);Z.isRegexChar=e=>e.length===1&&Z.hasRegexChars(e);Z.escapeRegex=e=>e.replace(_s,"\\$1");Z.toPosixSlashes=e=>e.replace(ds,"/");Z.removeBackslashes=e=>e.replace(ys,t=>t==="\\"?"":t);Z.supportsLookbehinds=()=>{let e=process.version.slice(1).split(".").map(Number);return e.length===3&&e[0]>=9||e[0]===8&&e[1]>=10};Z.isWindows=e=>e&&typeof e.windows=="boolean"?e.windows:Rs===!0||As.sep==="\\";Z.escapeLast=(e,t,r)=>{let s=e.lastIndexOf(t,r);return s===-1?e:e[s-1]==="\\"?Z.escapeLast(e,t,s-1):`${e.slice(0,s)}\\${e.slice(s)}`};Z.removePrefix=(e,t={})=>{let r=e;return r.startsWith("./")&&(r=r.slice(2),t.prefix="./"),r};Z.wrapOutput=(e,t={},r={})=>{let s=r.contains?"":"^",n=r.contains?"":"$",u=`${s}(?:${e})${n}`;return t.negated===!0&&(u=`(?:^(?!${u}).*$)`),u}});var Wt=U((Js,Xt)=>{"use strict";var Gt=de(),{CHAR_ASTERISK:Ge,CHAR_AT:Cs,CHAR_BACKWARD_SLASH:ye,CHAR_COMMA:xs,CHAR_DOT:Ue,CHAR_EXCLAMATION_MARK:Ke,CHAR_FORWARD_SLASH:Ut,CHAR_LEFT_CURLY_BRACE:qe,CHAR_LEFT_PARENTHESES:Fe,CHAR_LEFT_SQUARE_BRACKET:Ss,CHAR_PLUS:bs,CHAR_QUESTION_MARK:Kt,CHAR_RIGHT_CURLY_BRACE:ms,CHAR_RIGHT_PARENTHESES:qt,CHAR_RIGHT_SQUARE_BRACKET:Hs}=Re(),Ft=e=>e===Ut||e===ye,Qt=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?Infinity:1)},vs=(e,t)=>{let r=t||{},s=e.length-1,n=r.parts===!0||r.scanToEnd===!0,u=[],a=[],c=[],g=e,A=-1,p=0,d=0,f=!1,v=!1,E=!1,y=!1,C=!1,x=!1,$=!1,m=!1,D=!1,O=!1,K=0,q,_,T={value:"",depth:0,isGlob:!1},G=()=>A>=s,l=()=>g.charCodeAt(A+1),k=()=>(q=_,g.charCodeAt(++A));for(;A<s;){_=k();let Q;if(_===ye){$=T.backslashes=!0,_=k(),_===qe&&(x=!0);continue}if(x===!0||_===qe){for(K++;G()!==!0&&(_=k());){if(_===ye){$=T.backslashes=!0,k();continue}if(_===qe){K++;continue}if(x!==!0&&_===Ue&&(_=k())===Ue){if(f=T.isBrace=!0,E=T.isGlob=!0,O=!0,n===!0)continue;break}if(x!==!0&&_===xs){if(f=T.isBrace=!0,E=T.isGlob=!0,O=!0,n===!0)continue;break}if(_===ms&&(K--,K===0)){x=!1,f=T.isBrace=!0,O=!0;break}}if(n===!0)continue;break}if(_===Ut){if(u.push(A),a.push(T),T={value:"",depth:0,isGlob:!1},O===!0)continue;if(q===Ue&&A===p+1){p+=2;continue}d=A+1;continue}if(r.noext!==!0&&(_===bs||_===Cs||_===Ge||_===Kt||_===Ke)===!0&&l()===Fe){if(E=T.isGlob=!0,y=T.isExtglob=!0,O=!0,_===Ke&&A===p&&(D=!0),n===!0){for(;G()!==!0&&(_=k());){if(_===ye){$=T.backslashes=!0,_=k();continue}if(_===qt){E=T.isGlob=!0,O=!0;break}}continue}break}if(_===Ge){if(q===Ge&&(C=T.isGlobstar=!0),E=T.isGlob=!0,O=!0,n===!0)continue;break}if(_===Kt){if(E=T.isGlob=!0,O=!0,n===!0)continue;break}if(_===Ss){for(;G()!==!0&&(Q=k());){if(Q===ye){$=T.backslashes=!0,k();continue}if(Q===Hs){v=T.isBracket=!0,E=T.isGlob=!0,O=!0;break}}if(n===!0)continue;break}if(r.nonegate!==!0&&_===Ke&&A===p){m=T.negated=!0,p++;continue}if(r.noparen!==!0&&_===Fe){if(E=T.isGlob=!0,n===!0){for(;G()!==!0&&(_=k());){if(_===Fe){$=T.backslashes=!0,_=k();continue}if(_===qt){O=!0;break}}continue}break}if(E===!0){if(O=!0,n===!0)continue;break}}r.noext===!0&&(y=!1,E=!1);let w=g,ue="",o="";p>0&&(ue=g.slice(0,p),g=g.slice(p),d-=p),w&&E===!0&&d>0?(w=g.slice(0,d),o=g.slice(d)):E===!0?(w="",o=g):w=g,w&&w!==""&&w!=="/"&&w!==g&&Ft(w.charCodeAt(w.length-1))&&(w=w.slice(0,-1)),r.unescape===!0&&(o&&(o=Gt.removeBackslashes(o)),w&&$===!0&&(w=Gt.removeBackslashes(w)));let i={prefix:ue,input:e,start:p,base:w,glob:o,isBrace:f,isBracket:v,isGlob:E,isExtglob:y,isGlobstar:C,negated:m,negatedExtglob:D};if(r.tokens===!0&&(i.maxDepth=0,Ft(_)||a.push(T),i.tokens=a),r.parts===!0||r.tokens===!0){let Q;for(let H=0;H<u.length;H++){let ee=Q?Q+1:p,te=u[H],j=e.slice(ee,te);r.tokens&&(H===0&&p!==0?(a[H].isPrefix=!0,a[H].value=ue):a[H].value=j,Qt(a[H]),i.maxDepth+=a[H].depth),(H!==0||j!=="")&&c.push(j),Q=te}if(Q&&Q+1<e.length){let H=e.slice(Q+1);c.push(H),r.tokens&&(a[a.length-1].value=H,Qt(a[a.length-1]),i.maxDepth+=a[a.length-1].depth)}i.slashes=u,i.parts=c}return i};Xt.exports=vs});var zt=U((en,jt)=>{"use strict";var we=Re(),Y=de(),{MAX_LENGTH:Le,POSIX_REGEX_SOURCE:$s,REGEX_NON_SPECIAL_CHARS:Ts,REGEX_SPECIAL_CHARS_BACKREF:ws,REPLACEMENTS:Zt}=we,Ls=(e,t)=>{if(typeof t.expandRange=="function")return t.expandRange(...e,t);e.sort();let r=`[${e.join("-")}]`;try{new RegExp(r)}catch(s){return e.map(n=>Y.escapeRegex(n)).join("..")}return r},pe=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,Qe=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=Zt[e]||e;let r=N({},t),s=typeof r.maxLength=="number"?Math.min(Le,r.maxLength):Le,n=e.length;if(n>s)throw new SyntaxError(`Input length: ${n}, exceeds maximum allowed length: ${s}`);let u={type:"bos",value:"",output:r.prepend||""},a=[u],c=r.capture?"":"?:",g=Y.isWindows(t),A=we.globChars(g),p=we.extglobChars(A),{DOT_LITERAL:d,PLUS_LITERAL:f,SLASH_LITERAL:v,ONE_CHAR:E,DOTS_SLASH:y,NO_DOT:C,NO_DOT_SLASH:x,NO_DOTS_SLASH:$,QMARK:m,QMARK_NO_DOT:D,STAR:O,START_ANCHOR:K}=A,q=R=>`(${c}(?:(?!${K}${R.dot?y:d}).)*?)`,_=r.dot?"":C,T=r.dot?m:D,G=r.bash===!0?q(r):O;r.capture&&(G=`(${G})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let l={input:e,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:a};e=Y.removePrefix(e,l),n=e.length;let k=[],w=[],ue=[],o=u,i,Q=()=>l.index===n-1,H=l.peek=(R=1)=>e[l.index+R],ee=l.advance=()=>e[++l.index]||"",te=()=>e.slice(l.index+1),j=(R="",L=0)=>{l.consumed+=R,l.index+=L},xe=R=>{l.output+=R.output!=null?R.output:R.value,j(R.value)},lr=()=>{let R=1;for(;H()==="!"&&(H(2)!=="("||H(3)==="?");)ee(),l.start++,R++;return R%2==0?!1:(l.negated=!0,l.start++,!0)},Se=R=>{l[R]++,ue.push(R)},oe=R=>{l[R]--,ue.pop()},b=R=>{if(o.type==="globstar"){let L=l.braces>0&&(R.type==="comma"||R.type==="brace"),h=R.extglob===!0||k.length&&(R.type==="pipe"||R.type==="paren");R.type!=="slash"&&R.type!=="paren"&&!L&&!h&&(l.output=l.output.slice(0,-o.output.length),o.type="star",o.value="*",o.output=G,l.output+=o.output)}if(k.length&&R.type!=="paren"&&(k[k.length-1].inner+=R.value),(R.value||R.output)&&xe(R),o&&o.type==="text"&&R.type==="text"){o.value+=R.value,o.output=(o.output||"")+R.value;return}R.prev=o,a.push(R),o=R},be=(R,L)=>{let h=F(N({},p[L]),{conditions:1,inner:""});h.prev=o,h.parens=l.parens,h.output=l.output;let S=(r.capture?"(":"")+h.open;Se("parens"),b({type:R,value:L,output:l.output?"":E}),b({type:"paren",extglob:!0,value:ee(),output:S}),k.push(h)},fr=R=>{let L=R.close+(r.capture?")":""),h;if(R.type==="negate"){let S=G;if(R.inner&&R.inner.length>1&&R.inner.includes("/")&&(S=q(r)),(S!==G||Q()||/^\)+$/.test(te()))&&(L=R.close=`)$))${S}`),R.inner.includes("*")&&(h=te())&&/^\.[^\\/.]+$/.test(h)){let P=Qe(h,F(N({},t),{fastpaths:!1})).output;L=R.close=`)${P})${S})`}R.prev.type==="bos"&&(l.negatedExtglob=!0)}b({type:"paren",extglob:!0,value:i,output:L}),oe("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(e)){let R=!1,L=e.replace(ws,(h,S,P,X,B,Oe)=>X==="\\"?(R=!0,h):X==="?"?S?S+X+(B?m.repeat(B.length):""):Oe===0?T+(B?m.repeat(B.length):""):m.repeat(P.length):X==="."?d.repeat(P.length):X==="*"?S?S+X+(B?G:""):G:S?h:`\\${h}`);return R===!0&&(r.unescape===!0?L=L.replace(/\\/g,""):L=L.replace(/\\+/g,h=>h.length%2==0?"\\\\":h?"\\":"")),L===e&&r.contains===!0?(l.output=e,l):(l.output=Y.wrapOutput(L,l,t),l)}for(;!Q();){if(i=ee(),i==="\0")continue;if(i==="\\"){let h=H();if(h==="/"&&r.bash!==!0||h==="."||h===";")continue;if(!h){i+="\\",b({type:"text",value:i});continue}let S=/^\\+/.exec(te()),P=0;if(S&&S[0].length>2&&(P=S[0].length,l.index+=P,P%2!=0&&(i+="\\")),r.unescape===!0?i=ee():i+=ee(),l.brackets===0){b({type:"text",value:i});continue}}if(l.brackets>0&&(i!=="]"||o.value==="["||o.value==="[^")){if(r.posix!==!1&&i===":"){let h=o.value.slice(1);if(h.includes("[")&&(o.posix=!0,h.includes(":"))){let S=o.value.lastIndexOf("["),P=o.value.slice(0,S),X=o.value.slice(S+2),B=$s[X];if(B){o.value=P+B,l.backtrack=!0,ee(),!u.output&&a.indexOf(o)===1&&(u.output=E);continue}}}(i==="["&&H()!==":"||i==="-"&&H()==="]")&&(i=`\\${i}`),i==="]"&&(o.value==="["||o.value==="[^")&&(i=`\\${i}`),r.posix===!0&&i==="!"&&o.value==="["&&(i="^"),o.value+=i,xe({value:i});continue}if(l.quotes===1&&i!=='"'){i=Y.escapeRegex(i),o.value+=i,xe({value:i});continue}if(i==='"'){l.quotes=l.quotes===1?0:1,r.keepQuotes===!0&&b({type:"text",value:i});continue}if(i==="("){Se("parens"),b({type:"paren",value:i});continue}if(i===")"){if(l.parens===0&&r.strictBrackets===!0)throw new SyntaxError(pe("opening","("));let h=k[k.length-1];if(h&&l.parens===h.parens+1){fr(k.pop());continue}b({type:"paren",value:i,output:l.parens?")":"\\)"}),oe("parens");continue}if(i==="["){if(r.nobracket===!0||!te().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(pe("closing","]"));i=`\\${i}`}else Se("brackets");b({type:"bracket",value:i});continue}if(i==="]"){if(r.nobracket===!0||o&&o.type==="bracket"&&o.value.length===1){b({type:"text",value:i,output:`\\${i}`});continue}if(l.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(pe("opening","["));b({type:"text",value:i,output:`\\${i}`});continue}oe("brackets");let h=o.value.slice(1);if(o.posix!==!0&&h[0]==="^"&&!h.includes("/")&&(i=`/${i}`),o.value+=i,xe({value:i}),r.literalBrackets===!1||Y.hasRegexChars(h))continue;let S=Y.escapeRegex(o.value);if(l.output=l.output.slice(0,-o.value.length),r.literalBrackets===!0){l.output+=S,o.value=S;continue}o.value=`(${c}${S}|${o.value})`,l.output+=o.value;continue}if(i==="{"&&r.nobrace!==!0){Se("braces");let h={type:"brace",value:i,output:"(",outputIndex:l.output.length,tokensIndex:l.tokens.length};w.push(h),b(h);continue}if(i==="}"){let h=w[w.length-1];if(r.nobrace===!0||!h){b({type:"text",value:i,output:i});continue}let S=")";if(h.dots===!0){let P=a.slice(),X=[];for(let B=P.length-1;B>=0&&(a.pop(),P[B].type!=="brace");B--)P[B].type!=="dots"&&X.unshift(P[B].value);S=Ls(X,r),l.backtrack=!0}if(h.comma!==!0&&h.dots!==!0){let P=l.output.slice(0,h.outputIndex),X=l.tokens.slice(h.tokensIndex);h.value=h.output="\\{",i=S="\\}",l.output=P;for(let B of X)l.output+=B.output||B.value}b({type:"brace",value:i,output:S}),oe("braces"),w.pop();continue}if(i==="|"){k.length>0&&k[k.length-1].conditions++,b({type:"text",value:i});continue}if(i===","){let h=i,S=w[w.length-1];S&&ue[ue.length-1]==="braces"&&(S.comma=!0,h="|"),b({type:"comma",value:i,output:h});continue}if(i==="/"){if(o.type==="dot"&&l.index===l.start+1){l.start=l.index+1,l.consumed="",l.output="",a.pop(),o=u;continue}b({type:"slash",value:i,output:v});continue}if(i==="."){if(l.braces>0&&o.type==="dot"){o.value==="."&&(o.output=d);let h=w[w.length-1];o.type="dots",o.output+=i,o.value+=i,h.dots=!0;continue}if(l.braces+l.parens===0&&o.type!=="bos"&&o.type!=="slash"){b({type:"text",value:i,output:d});continue}b({type:"dot",value:i,output:d});continue}if(i==="?"){if(!(o&&o.value==="(")&&r.noextglob!==!0&&H()==="("&&H(2)!=="?"){be("qmark",i);continue}if(o&&o.type==="paren"){let S=H(),P=i;if(S==="<"&&!Y.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(o.value==="("&&!/[!=<:]/.test(S)||S==="<"&&!/<([!=]|\w+>)/.test(te()))&&(P=`\\${i}`),b({type:"text",value:i,output:P});continue}if(r.dot!==!0&&(o.type==="slash"||o.type==="bos")){b({type:"qmark",value:i,output:D});continue}b({type:"qmark",value:i,output:m});continue}if(i==="!"){if(r.noextglob!==!0&&H()==="("&&(H(2)!=="?"||!/[!=<:]/.test(H(3)))){be("negate",i);continue}if(r.nonegate!==!0&&l.index===0){lr();continue}}if(i==="+"){if(r.noextglob!==!0&&H()==="("&&H(2)!=="?"){be("plus",i);continue}if(o&&o.value==="("||r.regex===!1){b({type:"plus",value:i,output:f});continue}if(o&&(o.type==="bracket"||o.type==="paren"||o.type==="brace")||l.parens>0){b({type:"plus",value:i});continue}b({type:"plus",value:f});continue}if(i==="@"){if(r.noextglob!==!0&&H()==="("&&H(2)!=="?"){b({type:"at",extglob:!0,value:i,output:""});continue}b({type:"text",value:i});continue}if(i!=="*"){(i==="$"||i==="^")&&(i=`\\${i}`);let h=Ts.exec(te());h&&(i+=h[0],l.index+=h[0].length),b({type:"text",value:i});continue}if(o&&(o.type==="globstar"||o.star===!0)){o.type="star",o.star=!0,o.value+=i,o.output=G,l.backtrack=!0,l.globstar=!0,j(i);continue}let R=te();if(r.noextglob!==!0&&/^\([^?]/.test(R)){be("star",i);continue}if(o.type==="star"){if(r.noglobstar===!0){j(i);continue}let h=o.prev,S=h.prev,P=h.type==="slash"||h.type==="bos",X=S&&(S.type==="star"||S.type==="globstar");if(r.bash===!0&&(!P||R[0]&&R[0]!=="/")){b({type:"star",value:i,output:""});continue}let B=l.braces>0&&(h.type==="comma"||h.type==="brace"),Oe=k.length&&(h.type==="pipe"||h.type==="paren");if(!P&&h.type!=="paren"&&!B&&!Oe){b({type:"star",value:i,output:""});continue}for(;R.slice(0,3)==="/**";){let me=e[l.index+4];if(me&&me!=="/")break;R=R.slice(3),j("/**",3)}if(h.type==="bos"&&Q()){o.type="globstar",o.value+=i,o.output=q(r),l.output=o.output,l.globstar=!0,j(i);continue}if(h.type==="slash"&&h.prev.type!=="bos"&&!X&&Q()){l.output=l.output.slice(0,-(h.output+o.output).length),h.output=`(?:${h.output}`,o.type="globstar",o.output=q(r)+(r.strictSlashes?")":"|$)"),o.value+=i,l.globstar=!0,l.output+=h.output+o.output,j(i);continue}if(h.type==="slash"&&h.prev.type!=="bos"&&R[0]==="/"){let me=R[1]!==void 0?"|$":"";l.output=l.output.slice(0,-(h.output+o.output).length),h.output=`(?:${h.output}`,o.type="globstar",o.output=`${q(r)}${v}|${v}${me})`,o.value+=i,l.output+=h.output+o.output,l.globstar=!0,j(i+ee()),b({type:"slash",value:"/",output:""});continue}if(h.type==="bos"&&R[0]==="/"){o.type="globstar",o.value+=i,o.output=`(?:^|${v}|${q(r)}${v})`,l.output=o.output,l.globstar=!0,j(i+ee()),b({type:"slash",value:"/",output:""});continue}l.output=l.output.slice(0,-o.output.length),o.type="globstar",o.output=q(r),o.value+=i,l.output+=o.output,l.globstar=!0,j(i);continue}let L={type:"star",value:i,output:G};if(r.bash===!0){L.output=".*?",(o.type==="bos"||o.type==="slash")&&(L.output=_+L.output),b(L);continue}if(o&&(o.type==="bracket"||o.type==="paren")&&r.regex===!0){L.output=i,b(L);continue}(l.index===l.start||o.type==="slash"||o.type==="dot")&&(o.type==="dot"?(l.output+=x,o.output+=x):r.dot===!0?(l.output+=$,o.output+=$):(l.output+=_,o.output+=_),H()!=="*"&&(l.output+=E,o.output+=E)),b(L)}for(;l.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(pe("closing","]"));l.output=Y.escapeLast(l.output,"["),oe("brackets")}for(;l.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(pe("closing",")"));l.output=Y.escapeLast(l.output,"("),oe("parens")}for(;l.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(pe("closing","}"));l.output=Y.escapeLast(l.output,"{"),oe("braces")}if(r.strictSlashes!==!0&&(o.type==="star"||o.type==="bracket")&&b({type:"maybe_slash",value:"",output:`${v}?`}),l.backtrack===!0){l.output="";for(let R of l.tokens)l.output+=R.output!=null?R.output:R.value,R.suffix&&(l.output+=R.suffix)}return l};Qe.fastpaths=(e,t)=>{let r=N({},t),s=typeof r.maxLength=="number"?Math.min(Le,r.maxLength):Le,n=e.length;if(n>s)throw new SyntaxError(`Input length: ${n}, exceeds maximum allowed length: ${s}`);e=Zt[e]||e;let u=Y.isWindows(t),{DOT_LITERAL:a,SLASH_LITERAL:c,ONE_CHAR:g,DOTS_SLASH:A,NO_DOT:p,NO_DOTS:d,NO_DOTS_SLASH:f,STAR:v,START_ANCHOR:E}=we.globChars(u),y=r.dot?d:p,C=r.dot?f:p,x=r.capture?"":"?:",$={negated:!1,prefix:""},m=r.bash===!0?".*?":v;r.capture&&(m=`(${m})`);let D=_=>_.noglobstar===!0?m:`(${x}(?:(?!${E}${_.dot?A:a}).)*?)`,O=_=>{switch(_){case"*":return`${y}${g}${m}`;case".*":return`${a}${g}${m}`;case"*.*":return`${y}${m}${a}${g}${m}`;case"*/*":return`${y}${m}${c}${g}${C}${m}`;case"**":return y+D(r);case"**/*":return`(?:${y}${D(r)}${c})?${C}${g}${m}`;case"**/*.*":return`(?:${y}${D(r)}${c})?${C}${m}${a}${g}${m}`;case"**/.*":return`(?:${y}${D(r)}${c})?${a}${g}${m}`;default:{let T=/^(.*?)\.(\w+)$/.exec(_);if(!T)return;let G=O(T[1]);return G?G+a+T[2]:void 0}}},K=Y.removePrefix(e,$),q=O(K);return q&&r.strictSlashes!==!0&&(q+=`${c}?`),q};jt.exports=Qe});var Vt=U((tn,Yt)=>{"use strict";var Os=re("path"),ks=Wt(),Xe=zt(),We=de(),Ns=Re(),Is=e=>e&&typeof e=="object"&&!Array.isArray(e),M=(e,t,r=!1)=>{if(Array.isArray(e)){let p=e.map(f=>M(f,t,r));return f=>{for(let v of p){let E=v(f);if(E)return E}return!1}}let s=Is(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!s)throw new TypeError("Expected pattern to be a non-empty string");let n=t||{},u=We.isWindows(t),a=s?M.compileRe(e,t):M.makeRe(e,t,!1,!0),c=a.state;delete a.state;let g=()=>!1;if(n.ignore){let p=F(N({},t),{ignore:null,onMatch:null,onResult:null});g=M(n.ignore,p,r)}let A=(p,d=!1)=>{let{isMatch:f,match:v,output:E}=M.test(p,a,t,{glob:e,posix:u}),y={glob:e,state:c,regex:a,posix:u,input:p,output:E,match:v,isMatch:f};return typeof n.onResult=="function"&&n.onResult(y),f===!1?(y.isMatch=!1,d?y:!1):g(p)?(typeof n.onIgnore=="function"&&n.onIgnore(y),y.isMatch=!1,d?y:!1):(typeof n.onMatch=="function"&&n.onMatch(y),d?y:!0)};return r&&(A.state=c),A};M.test=(e,t,r,{glob:s,posix:n}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};let u=r||{},a=u.format||(n?We.toPosixSlashes:null),c=e===s,g=c&&a?a(e):e;return c===!1&&(g=a?a(e):e,c=g===s),(c===!1||u.capture===!0)&&(u.matchBase===!0||u.basename===!0?c=M.matchBase(e,t,r,n):c=t.exec(g)),{isMatch:Boolean(c),match:c,output:g}};M.matchBase=(e,t,r,s=We.isWindows(r))=>(t instanceof RegExp?t:M.makeRe(t,r)).test(Os.basename(e));M.isMatch=(e,t,r)=>M(t,r)(e);M.parse=(e,t)=>Array.isArray(e)?e.map(r=>M.parse(r,t)):Xe(e,F(N({},t),{fastpaths:!1}));M.scan=(e,t)=>ks(e,t);M.compileRe=(e,t,r=!1,s=!1)=>{if(r===!0)return e.output;let n=t||{},u=n.contains?"":"^",a=n.contains?"":"$",c=`${u}(?:${e.output})${a}`;e&&e.negated===!0&&(c=`^(?!${c}).*$`);let g=M.toRegex(c,t);return s===!0&&(g.state=e),g};M.makeRe=(e,t={},r=!1,s=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let n={negated:!1,fastpaths:!0};return t.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(n.output=Xe.fastpaths(e,t)),n.output||(n=Xe(e,t)),M.compileRe(n,t,r,s)};M.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(r){if(t&&t.debug===!0)throw r;return/$^/}};M.constants=Ns;Yt.exports=M});var er=U((rn,Jt)=>{"use strict";Jt.exports=Vt()});var ar=U((sn,nr)=>{"use strict";var tr=re("util"),rr=Nt(),ne=er(),Ze=de(),sr=e=>e===""||e==="./",I=(e,t,r)=>{t=[].concat(t),e=[].concat(e);let s=new Set,n=new Set,u=new Set,a=0,c=p=>{u.add(p.output),r&&r.onResult&&r.onResult(p)};for(let p=0;p<t.length;p++){let d=ne(String(t[p]),F(N({},r),{onResult:c}),!0),f=d.state.negated||d.state.negatedExtglob;f&&a++;for(let v of e){let E=d(v,!0);!(f?!E.isMatch:E.isMatch)||(f?s.add(E.output):(s.delete(E.output),n.add(E.output)))}}let A=(a===t.length?[...u]:[...n]).filter(p=>!s.has(p));if(r&&A.length===0){if(r.failglob===!0)throw new Error(`No matches found for "${t.join(", ")}"`);if(r.nonull===!0||r.nullglob===!0)return r.unescape?t.map(p=>p.replace(/\\/g,"")):t}return A};I.match=I;I.matcher=(e,t)=>ne(e,t);I.isMatch=(e,t,r)=>ne(t,r)(e);I.any=I.isMatch;I.not=(e,t,r={})=>{t=[].concat(t).map(String);let s=new Set,n=[],u=c=>{r.onResult&&r.onResult(c),n.push(c.output)},a=new Set(I(e,t,F(N({},r),{onResult:u})));for(let c of n)a.has(c)||s.add(c);return[...s]};I.contains=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${tr.inspect(e)}"`);if(Array.isArray(t))return t.some(s=>I.contains(e,s,r));if(typeof t=="string"){if(sr(e)||sr(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return I.isMatch(e,t,F(N({},r),{contains:!0}))};I.matchKeys=(e,t,r)=>{if(!Ze.isObject(e))throw new TypeError("Expected the first argument to be an object");let s=I(Object.keys(e),t,r),n={};for(let u of s)n[u]=e[u];return n};I.some=(e,t,r)=>{let s=[].concat(e);for(let n of[].concat(t)){let u=ne(String(n),r);if(s.some(a=>u(a)))return!0}return!1};I.every=(e,t,r)=>{let s=[].concat(e);for(let n of[].concat(t)){let u=ne(String(n),r);if(!s.every(a=>u(a)))return!1}return!0};I.all=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${tr.inspect(e)}"`);return[].concat(t).every(s=>ne(s,r)(e))};I.capture=(e,t,r)=>{let s=Ze.isWindows(r),u=ne.makeRe(String(e),F(N({},r),{capture:!0})).exec(s?Ze.toPosixSlashes(t):t);if(u)return u.slice(1).map(a=>a===void 0?"":a)};I.makeRe=(...e)=>ne.makeRe(...e);I.scan=(...e)=>ne.scan(...e);I.parse=(e,t)=>{let r=[];for(let s of[].concat(e||[]))for(let n of rr(String(s),t))r.push(ne.parse(n,t));return r};I.braces=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return t&&t.nobrace===!0||!/\{.*\}/.test(e)?[e]:rr(e,t)};I.braceExpand=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return I.braces(e,F(N({},t),{expand:!0}))};nr.exports=I});var Bs={};_r(Bs,{default:()=>Ds});var J=le(re("@yarnpkg/core")),ir=le(re("@yarnpkg/cli")),_e=le(re("clipanion"));var he=le(re("@yarnpkg/core")),W=le(re("@yarnpkg/core")),ur=le(ar()),Ee;(function(t){t.HIGHEST="highest"})(Ee||(Ee={}));var An=new Set(Object.values(Ee)),Ps={highest:async(e,t,{resolver:r,fetcher:s,resolveOptions:n,fetchOptions:u})=>{let a=new Map;for(let[A,p]of e.storedResolutions){let d=e.storedDescriptors.get(A);if(typeof d=="undefined")throw new Error(`Assertion failed: The descriptor (${A}) should have been registered`);he.miscUtils.getSetWithDefault(a,d.identHash).add(p)}let c=[],g=[];return await Promise.all(Array.from(e.storedDescriptors.values()).map(async A=>{if(t.length&&!ur.default.isMatch(W.structUtils.stringifyIdent(A),t))return null;let p=e.storedResolutions.get(A.descriptorHash);if(typeof p=="undefined")throw new Error(`Assertion failed: The resolution (${A.descriptorHash}) should have been registered`);let d=e.originalPackages.get(p);if(typeof d=="undefined"||!r.shouldPersistResolution(d,n))return null;let f=a.get(A.identHash);if(typeof f=="undefined")throw new Error(`Assertion failed: The resolutions (${A.identHash}) should have been registered`);if(f.size===1)return null;let v=[...f].map($=>{let m=e.originalPackages.get($);if(typeof m=="undefined")throw new Error(`Assertion failed: The package (${$}) should have been registered`);return m.reference}),E=await r.getSatisfying(A,v,n),y=E==null?void 0:E[0];if(typeof y=="undefined")return null;let C=y.locatorHash,x=e.originalPackages.get(C);if(typeof x=="undefined")throw new Error(`Assertion failed: The package (${C}) should have been registered`);C!==p?c.push({descriptor:A,currentPackage:d,updatedPackage:x}):v.filter($=>$.match(/^npm:/)).length>1&&g.push({descriptor:A,package:d})})),{resolvedDedupe:c,unresolvedDedupe:g}}};async function or(e,{strategy:t,patterns:r,cache:s,report:n}){let{configuration:u}=e,a=new he.ThrowReport,c=u.makeResolver(),g=u.makeFetcher(),A={cache:s,checksums:e.storedChecksums,fetcher:g,project:e,report:a,skipIntegrityCheck:!0,cacheOptions:{skipIntegrityCheck:!0}},p={project:e,resolver:c,report:a,fetchOptions:A};return await n.startTimerPromise("Start Deduplication",async()=>{let d=Ps[t],{resolvedDedupe:f,unresolvedDedupe:v}=await d(e,r,{resolver:c,resolveOptions:p,fetcher:g,fetchOptions:A}),E=he.Report.progressViaCounter(f.length);n.reportProgress(E);let y=0;n.startTimerSync("Resolved Packages:",()=>{f.forEach(m=>{y++;let{descriptor:D,currentPackage:O,updatedPackage:K}=m;n.reportInfo(W.MessageName.UNNAMED,`${W.structUtils.prettyDescriptor(u,D)} can be deduped from ${W.structUtils.prettyLocator(u,O)} to ${W.structUtils.prettyLocator(u,K)}`),n.reportJson({descriptor:W.structUtils.stringifyDescriptor(D),currentResolution:W.structUtils.stringifyLocator(O),updatedResolution:W.structUtils.stringifyLocator(K)}),e.storedResolutions.set(D.descriptorHash,K.locatorHash)})});let C=0,x=new Map;v.forEach(({descriptor:m,package:D})=>{var _;let O=`${m.scope?`@${m.scope}/`:""}${m.name}`,K=x.get(O)||{};(K[D.locatorHash]=(_=K[D.locatorHash])!=null?_:[]).push(m.range),x.set(O,K)}),n.startTimerSync("Unresolved Packages:",()=>{x.forEach((m,D)=>{C++,n.reportInfo(W.MessageName.UNNAMED,`Package<${D}>, versions: ${Object.values(m).map(O=>O.join(",")).join(" | ")}`)})});let $=W.formatUtils.pretty(u,t,W.formatUtils.Type.CODE);return n.reportInfo(W.MessageName.UNNAMED,`Strategy<${$}>: resolved count <${y}>, unresolved count <${C}>`),{resolved:y,unresolved:C}})}var Ce=class extends ir.BaseCommand{constructor(){super(...arguments);this.check=_e.Option.Boolean("-c,--check",!1,{description:"Exit with exit code 1 when duplicates are found, without persisting the dependency tree"});this.patterns=_e.Option.Rest()}async execute(){let t=await J.Configuration.find(this.context.cwd,this.context.plugins),{project:r}=await J.Project.find(t,this.context.cwd),s=await J.Cache.find(t);await r.restoreInstallState({restoreResolutions:!1});let n=0,u=0,a=await J.StreamReport.start({configuration:t,includeFooter:!1,stdout:this.context.stdout},async c=>{let g=await or(r,{strategy:Ee.HIGHEST,patterns:this.patterns,cache:s,report:c});n=g.resolved,u=g.unresolved});if(a.hasErrors())return a.exitCode();if(!this.check&&n>0){let c=await J.StreamReport.start({configuration:t,stdout:this.context.stdout},async g=>{await r.install({cache:s,report:g,mode:J.InstallMode.UpdateLockfile})});if(c.hasErrors())return c.exitCode();n=0}return n+u?1:0}};Ce.paths=[["strict-dedupe"],["sd"]],Ce.usage=_e.Command.Usage({description:"deduplicate dependencies with overlapping ranges",details:"",examples:[["Dedupe all packages","$0 sd"],['Dedupe only "react" and "react-dom" packages',"$0 sd react react-dom"],["Dedupe all packages with the `@babel/*` scope","$0 sd '@babel/*'"],["Check for duplicates (can be used as a CI step)","$0 sd --check"]]});var cr=Ce;var Ms={commands:[cr]},Ds=Ms;return Bs;})();
/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */
return plugin;
}
};
