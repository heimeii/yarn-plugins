/* eslint-disable */
//prettier-ignore
module.exports = {
name: "@yarnpkg/plugin-dedupe",
factory: function (require) {
var plugin=(()=>{var pr=Object.create,he=Object.defineProperty,hr=Object.defineProperties,gr=Object.getOwnPropertyDescriptor,Ar=Object.getOwnPropertyDescriptors,dr=Object.getOwnPropertyNames,je=Object.getOwnPropertySymbols,Rr=Object.getPrototypeOf,ze=Object.prototype.hasOwnProperty,yr=Object.prototype.propertyIsEnumerable;var Ye=(e,t,r)=>t in e?he(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,N=(e,t)=>{for(var r in t||(t={}))ze.call(t,r)&&Ye(e,r,t[r]);if(je)for(var r of je(t))yr.call(t,r)&&Ye(e,r,t[r]);return e},q=(e,t)=>hr(e,Ar(t)),Er=e=>he(e,"__esModule",{value:!0});var te=e=>{if(typeof require!="undefined")return require(e);throw new Error('Dynamic require of "'+e+'" is not supported')};var K=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),_r=(e,t)=>{for(var r in t)he(e,r,{get:t[r],enumerable:!0})},Cr=(e,t,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of dr(t))!ze.call(e,s)&&s!=="default"&&he(e,s,{get:()=>t[s],enumerable:!(r=gr(t,s))||r.enumerable});return e},le=e=>Cr(Er(he(e!=null?pr(Rr(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var me=K(Y=>{"use strict";Y.isInteger=e=>typeof e=="number"?Number.isInteger(e):typeof e=="string"&&e.trim()!==""?Number.isInteger(Number(e)):!1;Y.find=(e,t)=>e.nodes.find(r=>r.type===t);Y.exceedsLimit=(e,t,r=1,s)=>s===!1||!Y.isInteger(e)||!Y.isInteger(t)?!1:(Number(t)-Number(e))/Number(r)>=s;Y.escapeNode=(e,t=0,r)=>{let s=e.nodes[t];!s||(r&&s.type===r||s.type==="open"||s.type==="close")&&s.escaped!==!0&&(s.value="\\"+s.value,s.escaped=!0)};Y.encloseBrace=e=>e.type!=="brace"?!1:e.commas>>0+e.ranges>>0==0?(e.invalid=!0,!0):!1;Y.isInvalidBrace=e=>e.type!=="brace"?!1:e.invalid===!0||e.dollar?!0:e.commas>>0+e.ranges>>0==0||e.open!==!0||e.close!==!0?(e.invalid=!0,!0):!1;Y.isOpenOrClose=e=>e.type==="open"||e.type==="close"?!0:e.open===!0||e.close===!0;Y.reduce=e=>e.reduce((t,r)=>(r.type==="text"&&t.push(r.value),r.type==="range"&&(r.type="text"),t),[]);Y.flatten=(...e)=>{let t=[],r=s=>{for(let n=0;n<s.length;n++){let u=s[n];Array.isArray(u)?r(u,t):u!==void 0&&t.push(u)}return t};return r(e),t}});var He=K((Ks,Je)=>{"use strict";var Ve=me();Je.exports=(e,t={})=>{let r=(s,n={})=>{let u=t.escapeInvalid&&Ve.isInvalidBrace(n),a=s.invalid===!0&&t.escapeInvalid===!0,c="";if(s.value)return(u||a)&&Ve.isOpenOrClose(s)?"\\"+s.value:s.value;if(s.value)return s.value;if(s.nodes)for(let g of s.nodes)c+=r(g);return c};return r(e)}});var tt=K((qs,et)=>{"use strict";et.exports=function(e){return typeof e=="number"?e-e==0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1}});var lt=K((Fs,ct)=>{"use strict";var rt=tt(),ie=(e,t,r)=>{if(rt(e)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(t===void 0||e===t)return String(e);if(rt(t)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let s=N({relaxZeros:!0},r);typeof s.strictZeros=="boolean"&&(s.relaxZeros=s.strictZeros===!1);let n=String(s.relaxZeros),u=String(s.shorthand),a=String(s.capture),c=String(s.wrap),g=e+":"+t+"="+n+u+a+c;if(ie.cache.hasOwnProperty(g))return ie.cache[g].result;let A=Math.min(e,t),p=Math.max(e,t);if(Math.abs(A-p)===1){let y=e+"|"+t;return s.capture?`(${y})`:s.wrap===!1?y:`(?:${y})`}let R=it(e)||it(t),f={min:e,max:t,a:A,b:p},$=[],E=[];if(R&&(f.isPadded=R,f.maxLen=String(f.max).length),A<0){let y=p<0?Math.abs(p):1;E=st(y,Math.abs(A),f,s),A=f.a=0}return p>=0&&($=st(A,p,f,s)),f.negatives=E,f.positives=$,f.result=xr(E,$,s),s.capture===!0?f.result=`(${f.result})`:s.wrap!==!1&&$.length+E.length>1&&(f.result=`(?:${f.result})`),ie.cache[g]=f,f.result};function xr(e,t,r){let s=Ne(e,t,"-",!1,r)||[],n=Ne(t,e,"",!1,r)||[],u=Ne(e,t,"-?",!0,r)||[];return s.concat(u).concat(n).join("|")}function Sr(e,t){let r=1,s=1,n=at(e,r),u=new Set([t]);for(;e<=n&&n<=t;)u.add(n),r+=1,n=at(e,r);for(n=ut(t+1,s)-1;e<n&&n<=t;)u.add(n),s+=1,n=ut(t+1,s)-1;return u=[...u],u.sort(Hr),u}function br(e,t,r){if(e===t)return{pattern:e,count:[],digits:0};let s=mr(e,t),n=s.length,u="",a=0;for(let c=0;c<n;c++){let[g,A]=s[c];g===A?u+=g:g!=="0"||A!=="9"?u+=vr(g,A,r):a++}return a&&(u+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:u,count:[a],digits:n}}function st(e,t,r,s){let n=Sr(e,t),u=[],a=e,c;for(let g=0;g<n.length;g++){let A=n[g],p=br(String(a),String(A),s),R="";if(!r.isPadded&&c&&c.pattern===p.pattern){c.count.length>1&&c.count.pop(),c.count.push(p.count[0]),c.string=c.pattern+ot(c.count),a=A+1;continue}r.isPadded&&(R=$r(A,r,s)),p.string=R+p.pattern+ot(p.count),u.push(p),a=A+1,c=p}return u}function Ne(e,t,r,s,n){let u=[];for(let a of e){let{string:c}=a;!s&&!nt(t,"string",c)&&u.push(r+c),s&&nt(t,"string",c)&&u.push(r+c)}return u}function mr(e,t){let r=[];for(let s=0;s<e.length;s++)r.push([e[s],t[s]]);return r}function Hr(e,t){return e>t?1:t>e?-1:0}function nt(e,t,r){return e.some(s=>s[t]===r)}function at(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function ut(e,t){return e-e%Math.pow(10,t)}function ot(e){let[t=0,r=""]=e;return r||t>1?`{${t+(r?","+r:"")}}`:""}function vr(e,t,r){return`[${e}${t-e==1?"":"-"}${t}]`}function it(e){return/^-?(0+)\d/.test(e)}function $r(e,t,r){if(!t.isPadded)return e;let s=Math.abs(t.maxLen-String(e).length),n=r.relaxZeros!==!1;switch(s){case 0:return"";case 1:return n?"0?":"0";case 2:return n?"0{0,2}":"00";default:return n?`0{0,${s}}`:`0{${s}}`}}ie.cache={};ie.clearCache=()=>ie.cache={};ct.exports=ie});var Pe=K((Qs,yt)=>{"use strict";var Tr=te("util"),ft=lt(),pt=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),wr=e=>t=>e===!0?Number(t):String(t),ke=e=>typeof e=="number"||typeof e=="string"&&e!=="",ge=e=>Number.isInteger(+e),Ie=e=>{let t=`${e}`,r=-1;if(t[0]==="-"&&(t=t.slice(1)),t==="0")return!1;for(;t[++r]==="0";);return r>0},Lr=(e,t,r)=>typeof e=="string"||typeof t=="string"?!0:r.stringify===!0,Or=(e,t,r)=>{if(t>0){let s=e[0]==="-"?"-":"";s&&(e=e.slice(1)),e=s+e.padStart(s?t-1:t,"0")}return r===!1?String(e):e},ht=(e,t)=>{let r=e[0]==="-"?"-":"";for(r&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return r?"-"+e:e},Nr=(e,t)=>{e.negatives.sort((a,c)=>a<c?-1:a>c?1:0),e.positives.sort((a,c)=>a<c?-1:a>c?1:0);let r=t.capture?"":"?:",s="",n="",u;return e.positives.length&&(s=e.positives.join("|")),e.negatives.length&&(n=`-(${r}${e.negatives.join("|")})`),s&&n?u=`${s}|${n}`:u=s||n,t.wrap?`(${r}${u})`:u},gt=(e,t,r,s)=>{if(r)return ft(e,t,N({wrap:!1},s));let n=String.fromCharCode(e);if(e===t)return n;let u=String.fromCharCode(t);return`[${n}-${u}]`},At=(e,t,r)=>{if(Array.isArray(e)){let s=r.wrap===!0,n=r.capture?"":"?:";return s?`(${n}${e.join("|")})`:e.join("|")}return ft(e,t,r)},dt=(...e)=>new RangeError("Invalid range arguments: "+Tr.inspect(...e)),Rt=(e,t,r)=>{if(r.strictRanges===!0)throw dt([e,t]);return[]},kr=(e,t)=>{if(t.strictRanges===!0)throw new TypeError(`Expected step "${e}" to be a number`);return[]},Ir=(e,t,r=1,s={})=>{let n=Number(e),u=Number(t);if(!Number.isInteger(n)||!Number.isInteger(u)){if(s.strictRanges===!0)throw dt([e,t]);return[]}n===0&&(n=0),u===0&&(u=0);let a=n>u,c=String(e),g=String(t),A=String(r);r=Math.max(Math.abs(r),1);let p=Ie(c)||Ie(g)||Ie(A),R=p?Math.max(c.length,g.length,A.length):0,f=p===!1&&Lr(e,t,s)===!1,$=s.transform||wr(f);if(s.toRegex&&r===1)return gt(ht(e,R),ht(t,R),!0,s);let E={negatives:[],positives:[]},y=b=>E[b<0?"negatives":"positives"].push(Math.abs(b)),_=[],S=0;for(;a?n>=u:n<=u;)s.toRegex===!0&&r>1?y(n):_.push(Or($(n,S),R,f)),n=a?n-r:n+r,S++;return s.toRegex===!0?r>1?Nr(E,s):At(_,null,N({wrap:!1},s)):_},Pr=(e,t,r=1,s={})=>{if(!ge(e)&&e.length>1||!ge(t)&&t.length>1)return Rt(e,t,s);let n=s.transform||(f=>String.fromCharCode(f)),u=`${e}`.charCodeAt(0),a=`${t}`.charCodeAt(0),c=u>a,g=Math.min(u,a),A=Math.max(u,a);if(s.toRegex&&r===1)return gt(g,A,!1,s);let p=[],R=0;for(;c?u>=a:u<=a;)p.push(n(u,R)),u=c?u-r:u+r,R++;return s.toRegex===!0?At(p,null,{wrap:!1,options:s}):p},ve=(e,t,r,s={})=>{if(t==null&&ke(e))return[e];if(!ke(e)||!ke(t))return Rt(e,t,s);if(typeof r=="function")return ve(e,t,1,{transform:r});if(pt(r))return ve(e,t,0,r);let n=N({},s);return n.capture===!0&&(n.wrap=!0),r=r||n.step||1,ge(r)?ge(e)&&ge(t)?Ir(e,t,r,n):Pr(e,t,Math.max(Math.abs(r),1),n):r!=null&&!pt(r)?kr(r,n):ve(e,t,1,r)};yt.exports=ve});var Ct=K((Xs,_t)=>{"use strict";var Mr=Pe(),Et=me(),Dr=(e,t={})=>{let r=(s,n={})=>{let u=Et.isInvalidBrace(n),a=s.invalid===!0&&t.escapeInvalid===!0,c=u===!0||a===!0,g=t.escapeInvalid===!0?"\\":"",A="";if(s.isOpen===!0||s.isClose===!0)return g+s.value;if(s.type==="open")return c?g+s.value:"(";if(s.type==="close")return c?g+s.value:")";if(s.type==="comma")return s.prev.type==="comma"?"":c?s.value:"|";if(s.value)return s.value;if(s.nodes&&s.ranges>0){let p=Et.reduce(s.nodes),R=Mr(...p,q(N({},t),{wrap:!1,toRegex:!0}));if(R.length!==0)return p.length>1&&R.length>1?`(${R})`:R}if(s.nodes)for(let p of s.nodes)A+=r(p,s);return A};return r(e)};_t.exports=Dr});var bt=K((Ws,St)=>{"use strict";var Br=Pe(),xt=He(),fe=me(),ce=(e="",t="",r=!1)=>{let s=[];if(e=[].concat(e),t=[].concat(t),!t.length)return e;if(!e.length)return r?fe.flatten(t).map(n=>`{${n}}`):t;for(let n of e)if(Array.isArray(n))for(let u of n)s.push(ce(u,t,r));else for(let u of t)r===!0&&typeof u=="string"&&(u=`{${u}}`),s.push(Array.isArray(u)?ce(n,u,r):n+u);return fe.flatten(s)},Gr=(e,t={})=>{let r=t.rangeLimit===void 0?1e3:t.rangeLimit,s=(n,u={})=>{n.queue=[];let a=u,c=u.queue;for(;a.type!=="brace"&&a.type!=="root"&&a.parent;)a=a.parent,c=a.queue;if(n.invalid||n.dollar){c.push(ce(c.pop(),xt(n,t)));return}if(n.type==="brace"&&n.invalid!==!0&&n.nodes.length===2){c.push(ce(c.pop(),["{}"]));return}if(n.nodes&&n.ranges>0){let R=fe.reduce(n.nodes);if(fe.exceedsLimit(...R,t.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let f=Br(...R,t);f.length===0&&(f=xt(n,t)),c.push(ce(c.pop(),f)),n.nodes=[];return}let g=fe.encloseBrace(n),A=n.queue,p=n;for(;p.type!=="brace"&&p.type!=="root"&&p.parent;)p=p.parent,A=p.queue;for(let R=0;R<n.nodes.length;R++){let f=n.nodes[R];if(f.type==="comma"&&n.type==="brace"){R===1&&A.push(""),A.push("");continue}if(f.type==="close"){c.push(ce(c.pop(),A,g));continue}if(f.value&&f.type!=="open"){A.push(ce(A.pop(),f.value));continue}f.nodes&&s(f,n)}return A};return fe.flatten(s(e))};St.exports=Gr});var Ht=K((Zs,mt)=>{"use strict";mt.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var Lt=K((js,wt)=>{"use strict";var Ur=He(),{MAX_LENGTH:vt,CHAR_BACKSLASH:Me,CHAR_BACKTICK:Kr,CHAR_COMMA:qr,CHAR_DOT:Fr,CHAR_LEFT_PARENTHESES:Qr,CHAR_RIGHT_PARENTHESES:Xr,CHAR_LEFT_CURLY_BRACE:Wr,CHAR_RIGHT_CURLY_BRACE:Zr,CHAR_LEFT_SQUARE_BRACKET:$t,CHAR_RIGHT_SQUARE_BRACKET:Tt,CHAR_DOUBLE_QUOTE:jr,CHAR_SINGLE_QUOTE:zr,CHAR_NO_BREAK_SPACE:Yr,CHAR_ZERO_WIDTH_NOBREAK_SPACE:Vr}=Ht(),Jr=(e,t={})=>{if(typeof e!="string")throw new TypeError("Expected a string");let r=t||{},s=typeof r.maxLength=="number"?Math.min(vt,r.maxLength):vt;if(e.length>s)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${s})`);let n={type:"root",input:e,nodes:[]},u=[n],a=n,c=n,g=0,A=e.length,p=0,R=0,f,$={},E=()=>e[p++],y=_=>{if(_.type==="text"&&c.type==="dot"&&(c.type="text"),c&&c.type==="text"&&_.type==="text"){c.value+=_.value;return}return a.nodes.push(_),_.parent=a,_.prev=c,c=_,_};for(y({type:"bos"});p<A;)if(a=u[u.length-1],f=E(),!(f===Vr||f===Yr)){if(f===Me){y({type:"text",value:(t.keepEscaping?f:"")+E()});continue}if(f===Tt){y({type:"text",value:"\\"+f});continue}if(f===$t){g++;let _=!0,S;for(;p<A&&(S=E());){if(f+=S,S===$t){g++;continue}if(S===Me){f+=E();continue}if(S===Tt&&(g--,g===0))break}y({type:"text",value:f});continue}if(f===Qr){a=y({type:"paren",nodes:[]}),u.push(a),y({type:"text",value:f});continue}if(f===Xr){if(a.type!=="paren"){y({type:"text",value:f});continue}a=u.pop(),y({type:"text",value:f}),a=u[u.length-1];continue}if(f===jr||f===zr||f===Kr){let _=f,S;for(t.keepQuotes!==!0&&(f="");p<A&&(S=E());){if(S===Me){f+=S+E();continue}if(S===_){t.keepQuotes===!0&&(f+=S);break}f+=S}y({type:"text",value:f});continue}if(f===Wr){R++;let _=c.value&&c.value.slice(-1)==="$"||a.dollar===!0;a=y({type:"brace",open:!0,close:!1,dollar:_,depth:R,commas:0,ranges:0,nodes:[]}),u.push(a),y({type:"open",value:f});continue}if(f===Zr){if(a.type!=="brace"){y({type:"text",value:f});continue}let _="close";a=u.pop(),a.close=!0,y({type:_,value:f}),R--,a=u[u.length-1];continue}if(f===qr&&R>0){if(a.ranges>0){a.ranges=0;let _=a.nodes.shift();a.nodes=[_,{type:"text",value:Ur(a)}]}y({type:"comma",value:f}),a.commas++;continue}if(f===Fr&&R>0&&a.commas===0){let _=a.nodes;if(R===0||_.length===0){y({type:"text",value:f});continue}if(c.type==="dot"){if(a.range=[],c.value+=f,c.type="range",a.nodes.length!==3&&a.nodes.length!==5){a.invalid=!0,a.ranges=0,c.type="text";continue}a.ranges++,a.args=[];continue}if(c.type==="range"){_.pop();let S=_[_.length-1];S.value+=c.value+f,c=S,a.ranges--;continue}y({type:"dot",value:f});continue}y({type:"text",value:f})}do if(a=u.pop(),a.type!=="root"){a.nodes.forEach(b=>{b.nodes||(b.type==="open"&&(b.isOpen=!0),b.type==="close"&&(b.isClose=!0),b.nodes||(b.type="text"),b.invalid=!0)});let _=u[u.length-1],S=_.nodes.indexOf(a);_.nodes.splice(S,1,...a.nodes)}while(u.length>0);return y({type:"eos"}),n};wt.exports=Jr});var kt=K((zs,Nt)=>{"use strict";var Ot=He(),es=Ct(),ts=bt(),rs=Lt(),Z=(e,t={})=>{let r=[];if(Array.isArray(e))for(let s of e){let n=Z.create(s,t);Array.isArray(n)?r.push(...n):r.push(n)}else r=[].concat(Z.create(e,t));return t&&t.expand===!0&&t.nodupes===!0&&(r=[...new Set(r)]),r};Z.parse=(e,t={})=>rs(e,t);Z.stringify=(e,t={})=>typeof e=="string"?Ot(Z.parse(e,t),t):Ot(e,t);Z.compile=(e,t={})=>(typeof e=="string"&&(e=Z.parse(e,t)),es(e,t));Z.expand=(e,t={})=>{typeof e=="string"&&(e=Z.parse(e,t));let r=ts(e,t);return t.noempty===!0&&(r=r.filter(Boolean)),t.nodupes===!0&&(r=[...new Set(r)]),r};Z.create=(e,t={})=>e===""||e.length<3?[e]:t.expand!==!0?Z.compile(e,t):Z.expand(e,t);Nt.exports=Z});var Ae=K((Ys,Bt)=>{"use strict";var ss=te("path"),re="\\\\/",It=`[^${re}]`,ae="\\.",ns="\\+",as="\\?",$e="\\/",us="(?=.)",Pt="[^/]",De=`(?:${$e}|$)`,Mt=`(?:^|${$e})`,Be=`${ae}{1,2}${De}`,os=`(?!${ae})`,is=`(?!${Mt}${Be})`,cs=`(?!${ae}{0,1}${De})`,ls=`(?!${Be})`,fs=`[^.${$e}]`,ps=`${Pt}*?`,Dt={DOT_LITERAL:ae,PLUS_LITERAL:ns,QMARK_LITERAL:as,SLASH_LITERAL:$e,ONE_CHAR:us,QMARK:Pt,END_ANCHOR:De,DOTS_SLASH:Be,NO_DOT:os,NO_DOTS:is,NO_DOT_SLASH:cs,NO_DOTS_SLASH:ls,QMARK_NO_DOT:fs,STAR:ps,START_ANCHOR:Mt},hs=q(N({},Dt),{SLASH_LITERAL:`[${re}]`,QMARK:It,STAR:`${It}*?`,DOTS_SLASH:`${ae}{1,2}(?:[${re}]|$)`,NO_DOT:`(?!${ae})`,NO_DOTS:`(?!(?:^|[${re}])${ae}{1,2}(?:[${re}]|$))`,NO_DOT_SLASH:`(?!${ae}{0,1}(?:[${re}]|$))`,NO_DOTS_SLASH:`(?!${ae}{1,2}(?:[${re}]|$))`,QMARK_NO_DOT:`[^.${re}]`,START_ANCHOR:`(?:^|[${re}])`,END_ANCHOR:`(?:[${re}]|$)`}),gs={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};Bt.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:gs,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:ss.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?hs:Dt}}});var de=K(X=>{"use strict";var As=te("path"),ds=process.platform==="win32",{REGEX_BACKSLASH:Rs,REGEX_REMOVE_BACKSLASH:ys,REGEX_SPECIAL_CHARS:Es,REGEX_SPECIAL_CHARS_GLOBAL:_s}=Ae();X.isObject=e=>e!==null&&typeof e=="object"&&!Array.isArray(e);X.hasRegexChars=e=>Es.test(e);X.isRegexChar=e=>e.length===1&&X.hasRegexChars(e);X.escapeRegex=e=>e.replace(_s,"\\$1");X.toPosixSlashes=e=>e.replace(Rs,"/");X.removeBackslashes=e=>e.replace(ys,t=>t==="\\"?"":t);X.supportsLookbehinds=()=>{let e=process.version.slice(1).split(".").map(Number);return e.length===3&&e[0]>=9||e[0]===8&&e[1]>=10};X.isWindows=e=>e&&typeof e.windows=="boolean"?e.windows:ds===!0||As.sep==="\\";X.escapeLast=(e,t,r)=>{let s=e.lastIndexOf(t,r);return s===-1?e:e[s-1]==="\\"?X.escapeLast(e,t,s-1):`${e.slice(0,s)}\\${e.slice(s)}`};X.removePrefix=(e,t={})=>{let r=e;return r.startsWith("./")&&(r=r.slice(2),t.prefix="./"),r};X.wrapOutput=(e,t={},r={})=>{let s=r.contains?"":"^",n=r.contains?"":"$",u=`${s}(?:${e})${n}`;return t.negated===!0&&(u=`(?:^(?!${u}).*$)`),u}});var Wt=K((Js,Xt)=>{"use strict";var Gt=de(),{CHAR_ASTERISK:Ge,CHAR_AT:Cs,CHAR_BACKWARD_SLASH:Re,CHAR_COMMA:xs,CHAR_DOT:Ue,CHAR_EXCLAMATION_MARK:Ke,CHAR_FORWARD_SLASH:Ut,CHAR_LEFT_CURLY_BRACE:qe,CHAR_LEFT_PARENTHESES:Fe,CHAR_LEFT_SQUARE_BRACKET:Ss,CHAR_PLUS:bs,CHAR_QUESTION_MARK:Kt,CHAR_RIGHT_CURLY_BRACE:ms,CHAR_RIGHT_PARENTHESES:qt,CHAR_RIGHT_SQUARE_BRACKET:Hs}=Ae(),Ft=e=>e===Ut||e===Re,Qt=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?Infinity:1)},vs=(e,t)=>{let r=t||{},s=e.length-1,n=r.parts===!0||r.scanToEnd===!0,u=[],a=[],c=[],g=e,A=-1,p=0,R=0,f=!1,$=!1,E=!1,y=!1,_=!1,S=!1,b=!1,H=!1,G=!1,I=!1,ne=0,B,C,T={value:"",depth:0,isGlob:!1},U=()=>A>=s,l=()=>g.charCodeAt(A+1),O=()=>(B=C,g.charCodeAt(++A));for(;A<s;){C=O();let F;if(C===Re){b=T.backslashes=!0,C=O(),C===qe&&(S=!0);continue}if(S===!0||C===qe){for(ne++;U()!==!0&&(C=O());){if(C===Re){b=T.backslashes=!0,O();continue}if(C===qe){ne++;continue}if(S!==!0&&C===Ue&&(C=O())===Ue){if(f=T.isBrace=!0,E=T.isGlob=!0,I=!0,n===!0)continue;break}if(S!==!0&&C===xs){if(f=T.isBrace=!0,E=T.isGlob=!0,I=!0,n===!0)continue;break}if(C===ms&&(ne--,ne===0)){S=!1,f=T.isBrace=!0,I=!0;break}}if(n===!0)continue;break}if(C===Ut){if(u.push(A),a.push(T),T={value:"",depth:0,isGlob:!1},I===!0)continue;if(B===Ue&&A===p+1){p+=2;continue}R=A+1;continue}if(r.noext!==!0&&(C===bs||C===Cs||C===Ge||C===Kt||C===Ke)===!0&&l()===Fe){if(E=T.isGlob=!0,y=T.isExtglob=!0,I=!0,C===Ke&&A===p&&(G=!0),n===!0){for(;U()!==!0&&(C=O());){if(C===Re){b=T.backslashes=!0,C=O();continue}if(C===qt){E=T.isGlob=!0,I=!0;break}}continue}break}if(C===Ge){if(B===Ge&&(_=T.isGlobstar=!0),E=T.isGlob=!0,I=!0,n===!0)continue;break}if(C===Kt){if(E=T.isGlob=!0,I=!0,n===!0)continue;break}if(C===Ss){for(;U()!==!0&&(F=O());){if(F===Re){b=T.backslashes=!0,O();continue}if(F===Hs){$=T.isBracket=!0,E=T.isGlob=!0,I=!0;break}}if(n===!0)continue;break}if(r.nonegate!==!0&&C===Ke&&A===p){H=T.negated=!0,p++;continue}if(r.noparen!==!0&&C===Fe){if(E=T.isGlob=!0,n===!0){for(;U()!==!0&&(C=O());){if(C===Fe){b=T.backslashes=!0,C=O();continue}if(C===qt){I=!0;break}}continue}break}if(E===!0){if(I=!0,n===!0)continue;break}}r.noext===!0&&(y=!1,E=!1);let w=g,ue="",o="";p>0&&(ue=g.slice(0,p),g=g.slice(p),R-=p),w&&E===!0&&R>0?(w=g.slice(0,R),o=g.slice(R)):E===!0?(w="",o=g):w=g,w&&w!==""&&w!=="/"&&w!==g&&Ft(w.charCodeAt(w.length-1))&&(w=w.slice(0,-1)),r.unescape===!0&&(o&&(o=Gt.removeBackslashes(o)),w&&b===!0&&(w=Gt.removeBackslashes(w)));let i={prefix:ue,input:e,start:p,base:w,glob:o,isBrace:f,isBracket:$,isGlob:E,isExtglob:y,isGlobstar:_,negated:H,negatedExtglob:G};if(r.tokens===!0&&(i.maxDepth=0,Ft(C)||a.push(T),i.tokens=a),r.parts===!0||r.tokens===!0){let F;for(let v=0;v<u.length;v++){let J=F?F+1:p,ee=u[v],W=e.slice(J,ee);r.tokens&&(v===0&&p!==0?(a[v].isPrefix=!0,a[v].value=ue):a[v].value=W,Qt(a[v]),i.maxDepth+=a[v].depth),(v!==0||W!=="")&&c.push(W),F=ee}if(F&&F+1<e.length){let v=e.slice(F+1);c.push(v),r.tokens&&(a[a.length-1].value=v,Qt(a[a.length-1]),i.maxDepth+=a[a.length-1].depth)}i.slashes=u,i.parts=c}return i};Xt.exports=vs});var zt=K((en,jt)=>{"use strict";var Te=Ae(),j=de(),{MAX_LENGTH:we,POSIX_REGEX_SOURCE:$s,REGEX_NON_SPECIAL_CHARS:Ts,REGEX_SPECIAL_CHARS_BACKREF:ws,REPLACEMENTS:Zt}=Te,Ls=(e,t)=>{if(typeof t.expandRange=="function")return t.expandRange(...e,t);e.sort();let r=`[${e.join("-")}]`;try{new RegExp(r)}catch(s){return e.map(n=>j.escapeRegex(n)).join("..")}return r},pe=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,Qe=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=Zt[e]||e;let r=N({},t),s=typeof r.maxLength=="number"?Math.min(we,r.maxLength):we,n=e.length;if(n>s)throw new SyntaxError(`Input length: ${n}, exceeds maximum allowed length: ${s}`);let u={type:"bos",value:"",output:r.prepend||""},a=[u],c=r.capture?"":"?:",g=j.isWindows(t),A=Te.globChars(g),p=Te.extglobChars(A),{DOT_LITERAL:R,PLUS_LITERAL:f,SLASH_LITERAL:$,ONE_CHAR:E,DOTS_SLASH:y,NO_DOT:_,NO_DOT_SLASH:S,NO_DOTS_SLASH:b,QMARK:H,QMARK_NO_DOT:G,STAR:I,START_ANCHOR:ne}=A,B=d=>`(${c}(?:(?!${ne}${d.dot?y:R}).)*?)`,C=r.dot?"":_,T=r.dot?H:G,U=r.bash===!0?B(r):I;r.capture&&(U=`(${U})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let l={input:e,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:a};e=j.removePrefix(e,l),n=e.length;let O=[],w=[],ue=[],o=u,i,F=()=>l.index===n-1,v=l.peek=(d=1)=>e[l.index+d],J=l.advance=()=>e[++l.index]||"",ee=()=>e.slice(l.index+1),W=(d="",L=0)=>{l.consumed+=d,l.index+=L},Ce=d=>{l.output+=d.output!=null?d.output:d.value,W(d.value)},lr=()=>{let d=1;for(;v()==="!"&&(v(2)!=="("||v(3)==="?");)J(),l.start++,d++;return d%2==0?!1:(l.negated=!0,l.start++,!0)},xe=d=>{l[d]++,ue.push(d)},oe=d=>{l[d]--,ue.pop()},m=d=>{if(o.type==="globstar"){let L=l.braces>0&&(d.type==="comma"||d.type==="brace"),h=d.extglob===!0||O.length&&(d.type==="pipe"||d.type==="paren");d.type!=="slash"&&d.type!=="paren"&&!L&&!h&&(l.output=l.output.slice(0,-o.output.length),o.type="star",o.value="*",o.output=U,l.output+=o.output)}if(O.length&&d.type!=="paren"&&(O[O.length-1].inner+=d.value),(d.value||d.output)&&Ce(d),o&&o.type==="text"&&d.type==="text"){o.value+=d.value,o.output=(o.output||"")+d.value;return}d.prev=o,a.push(d),o=d},Se=(d,L)=>{let h=q(N({},p[L]),{conditions:1,inner:""});h.prev=o,h.parens=l.parens,h.output=l.output;let x=(r.capture?"(":"")+h.open;xe("parens"),m({type:d,value:L,output:l.output?"":E}),m({type:"paren",extglob:!0,value:J(),output:x}),O.push(h)},fr=d=>{let L=d.close+(r.capture?")":""),h;if(d.type==="negate"){let x=U;if(d.inner&&d.inner.length>1&&d.inner.includes("/")&&(x=B(r)),(x!==U||F()||/^\)+$/.test(ee()))&&(L=d.close=`)$))${x}`),d.inner.includes("*")&&(h=ee())&&/^\.[^\\/.]+$/.test(h)){let P=Qe(h,q(N({},t),{fastpaths:!1})).output;L=d.close=`)${P})${x})`}d.prev.type==="bos"&&(l.negatedExtglob=!0)}m({type:"paren",extglob:!0,value:i,output:L}),oe("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(e)){let d=!1,L=e.replace(ws,(h,x,P,Q,D,Oe)=>Q==="\\"?(d=!0,h):Q==="?"?x?x+Q+(D?H.repeat(D.length):""):Oe===0?T+(D?H.repeat(D.length):""):H.repeat(P.length):Q==="."?R.repeat(P.length):Q==="*"?x?x+Q+(D?U:""):U:x?h:`\\${h}`);return d===!0&&(r.unescape===!0?L=L.replace(/\\/g,""):L=L.replace(/\\+/g,h=>h.length%2==0?"\\\\":h?"\\":"")),L===e&&r.contains===!0?(l.output=e,l):(l.output=j.wrapOutput(L,l,t),l)}for(;!F();){if(i=J(),i==="\0")continue;if(i==="\\"){let h=v();if(h==="/"&&r.bash!==!0||h==="."||h===";")continue;if(!h){i+="\\",m({type:"text",value:i});continue}let x=/^\\+/.exec(ee()),P=0;if(x&&x[0].length>2&&(P=x[0].length,l.index+=P,P%2!=0&&(i+="\\")),r.unescape===!0?i=J():i+=J(),l.brackets===0){m({type:"text",value:i});continue}}if(l.brackets>0&&(i!=="]"||o.value==="["||o.value==="[^")){if(r.posix!==!1&&i===":"){let h=o.value.slice(1);if(h.includes("[")&&(o.posix=!0,h.includes(":"))){let x=o.value.lastIndexOf("["),P=o.value.slice(0,x),Q=o.value.slice(x+2),D=$s[Q];if(D){o.value=P+D,l.backtrack=!0,J(),!u.output&&a.indexOf(o)===1&&(u.output=E);continue}}}(i==="["&&v()!==":"||i==="-"&&v()==="]")&&(i=`\\${i}`),i==="]"&&(o.value==="["||o.value==="[^")&&(i=`\\${i}`),r.posix===!0&&i==="!"&&o.value==="["&&(i="^"),o.value+=i,Ce({value:i});continue}if(l.quotes===1&&i!=='"'){i=j.escapeRegex(i),o.value+=i,Ce({value:i});continue}if(i==='"'){l.quotes=l.quotes===1?0:1,r.keepQuotes===!0&&m({type:"text",value:i});continue}if(i==="("){xe("parens"),m({type:"paren",value:i});continue}if(i===")"){if(l.parens===0&&r.strictBrackets===!0)throw new SyntaxError(pe("opening","("));let h=O[O.length-1];if(h&&l.parens===h.parens+1){fr(O.pop());continue}m({type:"paren",value:i,output:l.parens?")":"\\)"}),oe("parens");continue}if(i==="["){if(r.nobracket===!0||!ee().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(pe("closing","]"));i=`\\${i}`}else xe("brackets");m({type:"bracket",value:i});continue}if(i==="]"){if(r.nobracket===!0||o&&o.type==="bracket"&&o.value.length===1){m({type:"text",value:i,output:`\\${i}`});continue}if(l.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(pe("opening","["));m({type:"text",value:i,output:`\\${i}`});continue}oe("brackets");let h=o.value.slice(1);if(o.posix!==!0&&h[0]==="^"&&!h.includes("/")&&(i=`/${i}`),o.value+=i,Ce({value:i}),r.literalBrackets===!1||j.hasRegexChars(h))continue;let x=j.escapeRegex(o.value);if(l.output=l.output.slice(0,-o.value.length),r.literalBrackets===!0){l.output+=x,o.value=x;continue}o.value=`(${c}${x}|${o.value})`,l.output+=o.value;continue}if(i==="{"&&r.nobrace!==!0){xe("braces");let h={type:"brace",value:i,output:"(",outputIndex:l.output.length,tokensIndex:l.tokens.length};w.push(h),m(h);continue}if(i==="}"){let h=w[w.length-1];if(r.nobrace===!0||!h){m({type:"text",value:i,output:i});continue}let x=")";if(h.dots===!0){let P=a.slice(),Q=[];for(let D=P.length-1;D>=0&&(a.pop(),P[D].type!=="brace");D--)P[D].type!=="dots"&&Q.unshift(P[D].value);x=Ls(Q,r),l.backtrack=!0}if(h.comma!==!0&&h.dots!==!0){let P=l.output.slice(0,h.outputIndex),Q=l.tokens.slice(h.tokensIndex);h.value=h.output="\\{",i=x="\\}",l.output=P;for(let D of Q)l.output+=D.output||D.value}m({type:"brace",value:i,output:x}),oe("braces"),w.pop();continue}if(i==="|"){O.length>0&&O[O.length-1].conditions++,m({type:"text",value:i});continue}if(i===","){let h=i,x=w[w.length-1];x&&ue[ue.length-1]==="braces"&&(x.comma=!0,h="|"),m({type:"comma",value:i,output:h});continue}if(i==="/"){if(o.type==="dot"&&l.index===l.start+1){l.start=l.index+1,l.consumed="",l.output="",a.pop(),o=u;continue}m({type:"slash",value:i,output:$});continue}if(i==="."){if(l.braces>0&&o.type==="dot"){o.value==="."&&(o.output=R);let h=w[w.length-1];o.type="dots",o.output+=i,o.value+=i,h.dots=!0;continue}if(l.braces+l.parens===0&&o.type!=="bos"&&o.type!=="slash"){m({type:"text",value:i,output:R});continue}m({type:"dot",value:i,output:R});continue}if(i==="?"){if(!(o&&o.value==="(")&&r.noextglob!==!0&&v()==="("&&v(2)!=="?"){Se("qmark",i);continue}if(o&&o.type==="paren"){let x=v(),P=i;if(x==="<"&&!j.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(o.value==="("&&!/[!=<:]/.test(x)||x==="<"&&!/<([!=]|\w+>)/.test(ee()))&&(P=`\\${i}`),m({type:"text",value:i,output:P});continue}if(r.dot!==!0&&(o.type==="slash"||o.type==="bos")){m({type:"qmark",value:i,output:G});continue}m({type:"qmark",value:i,output:H});continue}if(i==="!"){if(r.noextglob!==!0&&v()==="("&&(v(2)!=="?"||!/[!=<:]/.test(v(3)))){Se("negate",i);continue}if(r.nonegate!==!0&&l.index===0){lr();continue}}if(i==="+"){if(r.noextglob!==!0&&v()==="("&&v(2)!=="?"){Se("plus",i);continue}if(o&&o.value==="("||r.regex===!1){m({type:"plus",value:i,output:f});continue}if(o&&(o.type==="bracket"||o.type==="paren"||o.type==="brace")||l.parens>0){m({type:"plus",value:i});continue}m({type:"plus",value:f});continue}if(i==="@"){if(r.noextglob!==!0&&v()==="("&&v(2)!=="?"){m({type:"at",extglob:!0,value:i,output:""});continue}m({type:"text",value:i});continue}if(i!=="*"){(i==="$"||i==="^")&&(i=`\\${i}`);let h=Ts.exec(ee());h&&(i+=h[0],l.index+=h[0].length),m({type:"text",value:i});continue}if(o&&(o.type==="globstar"||o.star===!0)){o.type="star",o.star=!0,o.value+=i,o.output=U,l.backtrack=!0,l.globstar=!0,W(i);continue}let d=ee();if(r.noextglob!==!0&&/^\([^?]/.test(d)){Se("star",i);continue}if(o.type==="star"){if(r.noglobstar===!0){W(i);continue}let h=o.prev,x=h.prev,P=h.type==="slash"||h.type==="bos",Q=x&&(x.type==="star"||x.type==="globstar");if(r.bash===!0&&(!P||d[0]&&d[0]!=="/")){m({type:"star",value:i,output:""});continue}let D=l.braces>0&&(h.type==="comma"||h.type==="brace"),Oe=O.length&&(h.type==="pipe"||h.type==="paren");if(!P&&h.type!=="paren"&&!D&&!Oe){m({type:"star",value:i,output:""});continue}for(;d.slice(0,3)==="/**";){let be=e[l.index+4];if(be&&be!=="/")break;d=d.slice(3),W("/**",3)}if(h.type==="bos"&&F()){o.type="globstar",o.value+=i,o.output=B(r),l.output=o.output,l.globstar=!0,W(i);continue}if(h.type==="slash"&&h.prev.type!=="bos"&&!Q&&F()){l.output=l.output.slice(0,-(h.output+o.output).length),h.output=`(?:${h.output}`,o.type="globstar",o.output=B(r)+(r.strictSlashes?")":"|$)"),o.value+=i,l.globstar=!0,l.output+=h.output+o.output,W(i);continue}if(h.type==="slash"&&h.prev.type!=="bos"&&d[0]==="/"){let be=d[1]!==void 0?"|$":"";l.output=l.output.slice(0,-(h.output+o.output).length),h.output=`(?:${h.output}`,o.type="globstar",o.output=`${B(r)}${$}|${$}${be})`,o.value+=i,l.output+=h.output+o.output,l.globstar=!0,W(i+J()),m({type:"slash",value:"/",output:""});continue}if(h.type==="bos"&&d[0]==="/"){o.type="globstar",o.value+=i,o.output=`(?:^|${$}|${B(r)}${$})`,l.output=o.output,l.globstar=!0,W(i+J()),m({type:"slash",value:"/",output:""});continue}l.output=l.output.slice(0,-o.output.length),o.type="globstar",o.output=B(r),o.value+=i,l.output+=o.output,l.globstar=!0,W(i);continue}let L={type:"star",value:i,output:U};if(r.bash===!0){L.output=".*?",(o.type==="bos"||o.type==="slash")&&(L.output=C+L.output),m(L);continue}if(o&&(o.type==="bracket"||o.type==="paren")&&r.regex===!0){L.output=i,m(L);continue}(l.index===l.start||o.type==="slash"||o.type==="dot")&&(o.type==="dot"?(l.output+=S,o.output+=S):r.dot===!0?(l.output+=b,o.output+=b):(l.output+=C,o.output+=C),v()!=="*"&&(l.output+=E,o.output+=E)),m(L)}for(;l.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(pe("closing","]"));l.output=j.escapeLast(l.output,"["),oe("brackets")}for(;l.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(pe("closing",")"));l.output=j.escapeLast(l.output,"("),oe("parens")}for(;l.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(pe("closing","}"));l.output=j.escapeLast(l.output,"{"),oe("braces")}if(r.strictSlashes!==!0&&(o.type==="star"||o.type==="bracket")&&m({type:"maybe_slash",value:"",output:`${$}?`}),l.backtrack===!0){l.output="";for(let d of l.tokens)l.output+=d.output!=null?d.output:d.value,d.suffix&&(l.output+=d.suffix)}return l};Qe.fastpaths=(e,t)=>{let r=N({},t),s=typeof r.maxLength=="number"?Math.min(we,r.maxLength):we,n=e.length;if(n>s)throw new SyntaxError(`Input length: ${n}, exceeds maximum allowed length: ${s}`);e=Zt[e]||e;let u=j.isWindows(t),{DOT_LITERAL:a,SLASH_LITERAL:c,ONE_CHAR:g,DOTS_SLASH:A,NO_DOT:p,NO_DOTS:R,NO_DOTS_SLASH:f,STAR:$,START_ANCHOR:E}=Te.globChars(u),y=r.dot?R:p,_=r.dot?f:p,S=r.capture?"":"?:",b={negated:!1,prefix:""},H=r.bash===!0?".*?":$;r.capture&&(H=`(${H})`);let G=C=>C.noglobstar===!0?H:`(${S}(?:(?!${E}${C.dot?A:a}).)*?)`,I=C=>{switch(C){case"*":return`${y}${g}${H}`;case".*":return`${a}${g}${H}`;case"*.*":return`${y}${H}${a}${g}${H}`;case"*/*":return`${y}${H}${c}${g}${_}${H}`;case"**":return y+G(r);case"**/*":return`(?:${y}${G(r)}${c})?${_}${g}${H}`;case"**/*.*":return`(?:${y}${G(r)}${c})?${_}${H}${a}${g}${H}`;case"**/.*":return`(?:${y}${G(r)}${c})?${a}${g}${H}`;default:{let T=/^(.*?)\.(\w+)$/.exec(C);if(!T)return;let U=I(T[1]);return U?U+a+T[2]:void 0}}},ne=j.removePrefix(e,b),B=I(ne);return B&&r.strictSlashes!==!0&&(B+=`${c}?`),B};jt.exports=Qe});var Vt=K((tn,Yt)=>{"use strict";var Os=te("path"),Ns=Wt(),Xe=zt(),We=de(),ks=Ae(),Is=e=>e&&typeof e=="object"&&!Array.isArray(e),M=(e,t,r=!1)=>{if(Array.isArray(e)){let p=e.map(f=>M(f,t,r));return f=>{for(let $ of p){let E=$(f);if(E)return E}return!1}}let s=Is(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!s)throw new TypeError("Expected pattern to be a non-empty string");let n=t||{},u=We.isWindows(t),a=s?M.compileRe(e,t):M.makeRe(e,t,!1,!0),c=a.state;delete a.state;let g=()=>!1;if(n.ignore){let p=q(N({},t),{ignore:null,onMatch:null,onResult:null});g=M(n.ignore,p,r)}let A=(p,R=!1)=>{let{isMatch:f,match:$,output:E}=M.test(p,a,t,{glob:e,posix:u}),y={glob:e,state:c,regex:a,posix:u,input:p,output:E,match:$,isMatch:f};return typeof n.onResult=="function"&&n.onResult(y),f===!1?(y.isMatch=!1,R?y:!1):g(p)?(typeof n.onIgnore=="function"&&n.onIgnore(y),y.isMatch=!1,R?y:!1):(typeof n.onMatch=="function"&&n.onMatch(y),R?y:!0)};return r&&(A.state=c),A};M.test=(e,t,r,{glob:s,posix:n}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};let u=r||{},a=u.format||(n?We.toPosixSlashes:null),c=e===s,g=c&&a?a(e):e;return c===!1&&(g=a?a(e):e,c=g===s),(c===!1||u.capture===!0)&&(u.matchBase===!0||u.basename===!0?c=M.matchBase(e,t,r,n):c=t.exec(g)),{isMatch:Boolean(c),match:c,output:g}};M.matchBase=(e,t,r,s=We.isWindows(r))=>(t instanceof RegExp?t:M.makeRe(t,r)).test(Os.basename(e));M.isMatch=(e,t,r)=>M(t,r)(e);M.parse=(e,t)=>Array.isArray(e)?e.map(r=>M.parse(r,t)):Xe(e,q(N({},t),{fastpaths:!1}));M.scan=(e,t)=>Ns(e,t);M.compileRe=(e,t,r=!1,s=!1)=>{if(r===!0)return e.output;let n=t||{},u=n.contains?"":"^",a=n.contains?"":"$",c=`${u}(?:${e.output})${a}`;e&&e.negated===!0&&(c=`^(?!${c}).*$`);let g=M.toRegex(c,t);return s===!0&&(g.state=e),g};M.makeRe=(e,t={},r=!1,s=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let n={negated:!1,fastpaths:!0};return t.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(n.output=Xe.fastpaths(e,t)),n.output||(n=Xe(e,t)),M.compileRe(n,t,r,s)};M.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(r){if(t&&t.debug===!0)throw r;return/$^/}};M.constants=ks;Yt.exports=M});var er=K((rn,Jt)=>{"use strict";Jt.exports=Vt()});var ar=K((sn,nr)=>{"use strict";var tr=te("util"),rr=kt(),se=er(),Ze=de(),sr=e=>e===""||e==="./",k=(e,t,r)=>{t=[].concat(t),e=[].concat(e);let s=new Set,n=new Set,u=new Set,a=0,c=p=>{u.add(p.output),r&&r.onResult&&r.onResult(p)};for(let p=0;p<t.length;p++){let R=se(String(t[p]),q(N({},r),{onResult:c}),!0),f=R.state.negated||R.state.negatedExtglob;f&&a++;for(let $ of e){let E=R($,!0);!(f?!E.isMatch:E.isMatch)||(f?s.add(E.output):(s.delete(E.output),n.add(E.output)))}}let A=(a===t.length?[...u]:[...n]).filter(p=>!s.has(p));if(r&&A.length===0){if(r.failglob===!0)throw new Error(`No matches found for "${t.join(", ")}"`);if(r.nonull===!0||r.nullglob===!0)return r.unescape?t.map(p=>p.replace(/\\/g,"")):t}return A};k.match=k;k.matcher=(e,t)=>se(e,t);k.isMatch=(e,t,r)=>se(t,r)(e);k.any=k.isMatch;k.not=(e,t,r={})=>{t=[].concat(t).map(String);let s=new Set,n=[],u=c=>{r.onResult&&r.onResult(c),n.push(c.output)},a=new Set(k(e,t,q(N({},r),{onResult:u})));for(let c of n)a.has(c)||s.add(c);return[...s]};k.contains=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${tr.inspect(e)}"`);if(Array.isArray(t))return t.some(s=>k.contains(e,s,r));if(typeof t=="string"){if(sr(e)||sr(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return k.isMatch(e,t,q(N({},r),{contains:!0}))};k.matchKeys=(e,t,r)=>{if(!Ze.isObject(e))throw new TypeError("Expected the first argument to be an object");let s=k(Object.keys(e),t,r),n={};for(let u of s)n[u]=e[u];return n};k.some=(e,t,r)=>{let s=[].concat(e);for(let n of[].concat(t)){let u=se(String(n),r);if(s.some(a=>u(a)))return!0}return!1};k.every=(e,t,r)=>{let s=[].concat(e);for(let n of[].concat(t)){let u=se(String(n),r);if(!s.every(a=>u(a)))return!1}return!0};k.all=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${tr.inspect(e)}"`);return[].concat(t).every(s=>se(s,r)(e))};k.capture=(e,t,r)=>{let s=Ze.isWindows(r),u=se.makeRe(String(e),q(N({},r),{capture:!0})).exec(s?Ze.toPosixSlashes(t):t);if(u)return u.slice(1).map(a=>a===void 0?"":a)};k.makeRe=(...e)=>se.makeRe(...e);k.scan=(...e)=>se.scan(...e);k.parse=(e,t)=>{let r=[];for(let s of[].concat(e||[]))for(let n of rr(String(s),t))r.push(se.parse(n,t));return r};k.braces=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return t&&t.nobrace===!0||!/\{.*\}/.test(e)?[e]:rr(e,t)};k.braceExpand=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return k.braces(e,q(N({},t),{expand:!0}))};nr.exports=k});var Bs={};_r(Bs,{default:()=>Ds});var z=le(te("@yarnpkg/core")),ir=le(te("@yarnpkg/cli")),Ee=le(te("clipanion"));var Le=le(te("@yarnpkg/core")),V=le(te("@yarnpkg/core")),ur=le(ar()),ye;(function(t){t.HIGHEST="highest"})(ye||(ye={}));var dn=new Set(Object.values(ye)),Ps={highest:async(e,t,{resolver:r,fetcher:s,resolveOptions:n,fetchOptions:u})=>{let a=new Map;for(let[A,p]of e.storedResolutions){let R=e.storedDescriptors.get(A);if(typeof R=="undefined")throw new Error(`Assertion failed: The descriptor (${A}) should have been registered`);Le.miscUtils.getSetWithDefault(a,R.identHash).add(p)}let c=[],g=[];return await Promise.all(Array.from(e.storedDescriptors.values()).map(async A=>{if(t.length&&!ur.default.isMatch(V.structUtils.stringifyIdent(A),t))return null;let p=e.storedResolutions.get(A.descriptorHash);if(typeof p=="undefined")throw new Error(`Assertion failed: The resolution (${A.descriptorHash}) should have been registered`);let R=e.originalPackages.get(p);if(typeof R=="undefined"||!r.shouldPersistResolution(R,n))return null;let f=a.get(A.identHash);if(typeof f=="undefined")throw new Error(`Assertion failed: The resolutions (${A.identHash}) should have been registered`);if(f.size===1)return null;let $=[...f].map(b=>{let H=e.originalPackages.get(b);if(typeof H=="undefined")throw new Error(`Assertion failed: The package (${b}) should have been registered`);return H.reference}),E=await r.getSatisfying(A,$,n),y=E==null?void 0:E[0];if(typeof y=="undefined")return null;let _=y.locatorHash,S=e.originalPackages.get(_);if(typeof S=="undefined")throw new Error(`Assertion failed: The package (${_}) should have been registered`);_!==p?c.push({descriptor:A,currentPackage:R,updatedPackage:S}):$.filter(b=>b.match(/^npm:/)).length>1&&g.push({descriptor:A,package:R})})),{resolvedDedupe:c,unresolvedDedupe:g}}};async function or(e,{strategy:t,patterns:r,cache:s,report:n}){let{configuration:u}=e,a=new Le.ThrowReport,c=u.makeResolver(),g=u.makeFetcher(),A={cache:s,checksums:e.storedChecksums,fetcher:g,project:e,report:a,skipIntegrityCheck:!0,cacheOptions:{skipIntegrityCheck:!0}},p={project:e,resolver:c,report:a,fetchOptions:A};return await n.startTimerPromise("Start Deduplication",async()=>{let R=Ps[t],{resolvedDedupe:f,unresolvedDedupe:$}=await R(e,r,{resolver:c,resolveOptions:p,fetcher:g,fetchOptions:A}),E=0;n.startTimerSync("Resolved Packages:",()=>{f.forEach(b=>{E++;let{descriptor:H,currentPackage:G,updatedPackage:I}=b;n.reportInfo(V.MessageName.UNNAMED,`${V.structUtils.prettyDescriptor(u,H)} can be deduped from ${V.structUtils.prettyLocator(u,G)} to ${V.structUtils.prettyLocator(u,I)}`),e.storedResolutions.set(H.descriptorHash,I.locatorHash)})});let y=0,_=new Map;$.forEach(({descriptor:b,package:H})=>{var B;let G=`${b.scope?`@${b.scope}/`:""}${b.name}`,I=_.get(G)||{};(I[H.locatorHash]=(B=I[H.locatorHash])!=null?B:[]).push(b.range),_.set(G,I)}),n.startTimerSync("Unresolved Packages:",()=>{_.forEach((b,H)=>{y++,n.reportInfo(V.MessageName.UNNAMED,`Package<${H}>, versions: ${Object.values(b).map(G=>G.join(",")).join(" | ")}`)})});let S=V.formatUtils.pretty(u,t,V.formatUtils.Type.CODE);return n.reportInfo(V.MessageName.UNNAMED,`Strategy<${S}>: resolved count <${E}>, unresolved count <${y}>`),{resolved:E,unresolved:y}})}var _e=class extends ir.BaseCommand{constructor(){super(...arguments);this.check=Ee.Option.Boolean("-c,--check",!1,{description:"Exit with exit code 1 when duplicates are found, without persisting the dependency tree"});this.patterns=Ee.Option.Rest()}async execute(){let t=await z.Configuration.find(this.context.cwd,this.context.plugins),{project:r}=await z.Project.find(t,this.context.cwd),s=await z.Cache.find(t);await r.restoreInstallState({restoreResolutions:!1});let n=0,u=0,a=await z.StreamReport.start({configuration:t,includeFooter:!1,stdout:this.context.stdout},async c=>{let g=await or(r,{strategy:ye.HIGHEST,patterns:this.patterns,cache:s,report:c});n=g.resolved,u=g.unresolved});if(a.hasErrors())return a.exitCode();if(!this.check&&n>0){let c=await z.StreamReport.start({configuration:t,stdout:this.context.stdout},async g=>{await r.install({cache:s,report:g,mode:z.InstallMode.UpdateLockfile})});if(c.hasErrors())return c.exitCode();n=0}return(n+u?1:0)&&a.reportError(z.MessageName.UNNAMED,"validate dedupe fail"),a.exitCode()}};_e.paths=[["strict-dedupe"],["sd"]],_e.usage=Ee.Command.Usage({description:"deduplicate dependencies with overlapping ranges",details:"",examples:[["Dedupe all packages","$0 sd"],['Dedupe only "react" and "react-dom" packages',"$0 sd react react-dom"],["Dedupe all packages with the `@babel/*` scope","$0 sd '@babel/*'"],["Check for duplicates (can be used as a CI step)","$0 sd --check"]]});var cr=_e;var Ms={commands:[cr]},Ds=Ms;return Bs;})();
/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */
return plugin;
}
};
